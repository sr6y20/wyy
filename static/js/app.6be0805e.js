(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],p=0,d=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0070":function(t,e,i){"use strict";var n=i("1dc5"),a=i.n(n);a.a},"033a":function(t,e,i){"use strict";var n=i("2329"),a=i.n(n);a.a},"0889":function(t,e,i){"use strict";var n=i("34d8"),a=i.n(n);a.a},"0d8e":function(t,e,i){},"14c6":function(t,e,i){},"19d8":function(t,e,i){"use strict";var n=i("14c6"),a=i.n(n);a.a},"1dc5":function(t,e,i){},2185:function(t,e,i){"use strict";var n=i("0d8e"),a=i.n(n);a.a},2329:function(t,e,i){},"2bf9":function(t,e,i){"use strict";var n=i("a484"),a=i.n(n);a.a},"33ba":function(t,e,i){},"34d8":function(t,e,i){},3633:function(t,e,i){"use strict";var n=i("bfd2"),a=i.n(n);a.a},3770:function(t,e,i){"use strict";var n=i("3f33"),a=i.n(n);a.a},"37ba":function(t,e,i){"use strict";var n=i("d24b"),a=i.n(n);a.a},"39b5":function(t,e,i){"use strict";var n=i("a53d"),a=i.n(n);a.a},"3f33":function(t,e,i){},4176:function(t,e,i){"use strict";var n=i("33ba"),a=i.n(n);a.a},"54e6":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("99af"),i("4de4"),i("4d90"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view",{ref:"main"})],1)},s=[],o={name:"app"},r=o,l=i("2877"),c=Object(l["a"])(r,a,s,!1,null,null,null),u=c.exports,p=i("8c4f"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-header",[i("img",{staticClass:"logo",attrs:{src:"imgs/logo.png",alt:""}}),i("el-input",{attrs:{placeholder:"搜索单曲,歌手,视频,歌单",size:"small","suffix-icon":"el-icon-search",id:"searchInput"},on:{focus:t.showHotSearch,blur:t.hideHotSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toSearchPage(e)}},model:{value:t.searchData,callback:function(e){t.searchData=e},expression:"searchData"}},[i("el-button",{staticClass:"searchBtn",attrs:{slot:"suffix",size:"mini"},on:{click:t.toSearchPage},slot:"suffix"})],1),t.isHot?i("div",{staticClass:"showHot"},[i("div",{staticClass:"box"},[i("span",{staticStyle:{color:"gray","font-size":"15px","margin-top":"0"}},[t._v("热搜榜")]),t._l(t.hotSearchData,(function(e,n){return i("span",{key:n,staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{width:"20px",color:"red"}},[t._v(" "+t._s(n+1)+" ")]),i("div",{staticStyle:{color:"black",width:"270px","padding-left":"15px",display:"flex","flex-direction":"column",cursor:"pointer"},on:{mousedown:function(e){return t.hotToSearchPage(t.hotSearchData[n].searchWord)}}},[i("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center"}},[i("p",{staticStyle:{"font-size":"6px"}},[t._v(t._s(t.hotSearchData[n].searchWord))]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.hotSearchData[n].iconType,expression:"hotSearchData[index].iconType"}],staticStyle:{"padding-left":"10px","font-size":"8px",color:"red","font-weight":"bold","font-style":"italic"}},[t._v("HOT")]),i("p",{staticStyle:{"font-size":"6px",color:"gray","padding-left":"10px","margin-top":"9px"}},[t._v(t._s(t.hotSearchData[n].score))])]),i("p",{staticStyle:{"font-size":"6px",color:"gray","margin-top":"0"}},[t._v(t._s(t.hotSearchData[n].content))])])])}))],2)]):t._e(),i("div",{staticClass:"rightContainer",staticStyle:{display:"flex"}},[null===t.currentUserInfo?i("img",{staticClass:"userIcon",attrs:{src:"imgs/userIcon.png"}}):i("img",{staticClass:"userIcon",attrs:{src:t.currentUserInfo.avatarUrl}}),null===t.currentUserInfo?i("span",{staticStyle:{cursor:"pointer"},on:{click:t.handleLogin}},[t._v(" 未登录 ")]):i("span",{staticStyle:{"user-select":"none"}},[t._v(t._s(t.currentUserInfo.nickname))]),0!==t.level?i("span",{staticStyle:{padding:"2px 5px","user-select":"none"}},[t._v("Lv."+t._s(t.level))]):t._e(),null!==t.currentUserInfo?i("el-button",{staticStyle:{height:"50%","margin-top":"12px","margin-left":"5px"},attrs:{type:"danger",size:"mini"},on:{click:t.logout}},[t._v(" 退出 ")]):t._e()],1)],1),i("el-container",[i("el-aside",{staticStyle:{overflow:"hidden","overflow-y":"scroll",height:"600px"},attrs:{width:"210px"}},[i("el-menu",{attrs:{"default-active":"/findMusic",router:!0}},[i("el-menu-item-group",[i("template",{slot:"title"},[t._v("推荐")]),i("el-menu-item",{attrs:{index:"/findMusic"}},[t._v("发现音乐")]),i("el-menu-item",{attrs:{index:"/video"}},[t._v("视频")])],2),i("el-menu-item-group",[i("template",{slot:"title"},[t._v("我的音乐")]),i("el-menu-item",{attrs:{index:"/cloudMusic"}},[t._v("我的音乐云盘")])],2),i("el-menu-item-group",[i("template",{slot:"title"},[t._v("创建的歌单")]),t._l(t.currentUserPlayList,(function(e,n){return e.subscribed?t._e():i("el-menu-item",{key:n,staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{index:"/songlist/"+e.id},on:{click:function(i){return t.changePlaylistId(e.id)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),i("el-menu-item-group",[i("template",{slot:"title"},[t._v("收藏的歌单")]),t._l(t.currentUserPlayList,(function(e,n){return e.subscribed?i("el-menu-item",{key:n,staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{index:"/songlist/"+e.id},on:{click:function(i){return t.changePlaylistId(e.id)}}},[t._v(" "+t._s(e.name)+" ")]):t._e()}))],2)],1)],1),i("el-container",[i("el-main",{staticStyle:{height:"700px"}},[i("router-view",{ref:"child",attrs:{musicDuration:t.musicDuration,isPlay:t.isPlay,curId:t.curId},on:{setMusicUrl:t.setMusicUrl,refreshPrivatePlaylist:t.getUserPrivatePlayList,setSongListInfo:t.setSongListInfo}})],1)],1)],1),i("el-footer",{staticStyle:{position:"fixed",bottom:"0",width:"100%","z-index":"100","min-width":"1000px"},attrs:{height:"50"}},[i("div",{staticStyle:{position:"absolute",bottom:"41px",width:"200px","padding-left":"5px","background-color":"#ffffff","box-shadow":"0px 0px 5px 1px rgba(0,0,0,0.3)"}},[i("div",{staticStyle:{display:"inline-block"}},[i("img",{staticStyle:{width:"60px",height:"63px",cursor:"pointer","border-radius":"5px"},attrs:{src:t.music.al.picUrl,alt:""},on:{click:t.toMusicDetailPage}})]),i("div",{staticStyle:{position:"absolute",bottom:"25px",left:"70px",width:"140px"}},[i("p",{staticStyle:{"font-size":"10px",margin:"0"}},[t._v(t._s(t.music.name))]),t._l(t.music.ar,(function(e,n){return i("p",{staticStyle:{color:"gray","font-size":"10px",cursor:"pointer",width:"60px",margin:"5px 0 0 0",display:"inline"},on:{click:function(i){return t.toSingerPage(e.id)}}},[t._v(" "+t._s(n!==t.music.ar.length-1?e.name+" /":e.name)+" ")])}))],2)]),i("el-row",{staticStyle:{"border-top":"1px solid rgb(230,230,230)","background-color":"white"}},[i("el-col",{attrs:{span:2.5}},[i("ion-icon",{staticStyle:{position:"absolute",cursor:"pointer",left:"50px",top:"3px","font-size":"32px",color:"red"},attrs:{name:"caret-back-circle"},on:{click:t.changePrevMusic}}),t.isPlay?t._e():i("ion-icon",{staticStyle:{position:"absolute",cursor:"pointer",left:"81px",top:"-1px","font-size":"40px",color:"red"},attrs:{name:"caret-forward-circle"},on:{click:t.playMusic}}),t.isPlay?i("ion-icon",{staticStyle:{position:"absolute",cursor:"pointer",left:"81px",top:"-1px","font-size":"40px",color:"red"},attrs:{name:"pause-circle"},on:{click:t.playMusic}}):t._e(),i("ion-icon",{staticStyle:{position:"absolute",cursor:"pointer",left:"120px",top:"3px","font-size":"32px",color:"red"},attrs:{name:"caret-forward-circle"},on:{click:t.changeNextMusic}})],1),i("el-col",{staticStyle:{position:"relative",left:"100px",display:"flex","justify-content":"center","align-items":"center"},attrs:{span:12,offset:2}},[i("span",{staticStyle:{"user-select":"none"}},[t._v(t._s(t._f("timeFormat")(this.musicDuration)))]),i("el-slider",{staticStyle:{width:"500px","padding-left":"20px"},attrs:{max:t.totalDuration,"show-tooltip":!1},on:{change:t.musicDurationChange},model:{value:t.musicDuration,callback:function(e){t.musicDuration=e},expression:"musicDuration"}}),i("span",{staticStyle:{"user-select":"none","padding-left":"20px"}},[t._v(t._s(t._f("timeFormat")(t.totalDuration)))])],1),i("el-col",{staticStyle:{position:"relative","padding-left":"50px",display:"flex","justify-content":"center","align-items":"center"},attrs:{span:5,offset:1}},[i("ion-icon",{staticStyle:{"font-size":"20px","padding-left":"20px",cursor:"pointer"},attrs:{title:"列表循环",id:"loop",name:"repeat-outline"},on:{click:t.loopSong}}),i("ion-icon",{staticStyle:{"font-size":"20px","padding-left":"20px",cursor:"pointer"},attrs:{id:"voice",name:"volume-high-outline"},on:{click:t.silence}}),i("el-slider",{staticStyle:{width:"120px","padding-left":"20px"},attrs:{"show-tooltip":!1},on:{change:t.musicVolumeChange},model:{value:t.musicVolume,callback:function(e){t.musicVolume=e},expression:"musicVolume"}}),i("ion-icon",{staticStyle:{cursor:"pointer","font-size":"20px","padding-left":"20px"},attrs:{name:"reader-outline"},on:{click:t.showRightPlayList}})],1)],1),i("audio",{staticClass:"playMusicAudio",attrs:{src:t.musicUrl,autoplay:""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRightPlayListDialog,expression:"showRightPlayListDialog"}],staticStyle:{position:"absolute",top:"-350px",left:"950px",height:"350px",width:"450px","z-index":"999",overflow:"hidden","overflow-y":"scroll",border:"1px solid rgba(156,159,76,0.6)","border-radius":"15px","box-shadow":"0px -5px 10px 5px rgba(156,159,76,0.2)","background-color":"white"}},[i("el-table",{ref:"playTable",staticStyle:{cursor:"context-menu"},attrs:{data:t.currentMusicListInfo,"highlight-current-row":"",border:"",stripe:""},on:{"row-dblclick":t.playRightMusicList}},[i("el-table-column",{attrs:{label:"#",type:"index",align:"center",width:"65px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("p",{staticStyle:{color:"red",display:"inline"}},[t._v(t._s(e.$index+1))]):i("p",[t._v(t._s(e.$index+1))])]}}])}),i("el-table-column",{attrs:{label:"音乐标题",prop:"name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("p",{staticStyle:{color:"red"}},[t._v(t._s(e.row.name))]):i("p",[t._v(t._s(e.row.name))])]}}])}),i("el-table-column",{attrs:{label:"歌手",prop:"ar[0].name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("p",{staticStyle:{color:"red"}},[t._v(" "+t._s(e.row.ar[0].name?e.row.ar[0].name:"未知歌手"))]):i("p",[t._v(t._s(e.row.ar[0].name?e.row.ar[0].name:"未知歌手"))])]}}])}),i("el-table-column",{attrs:{label:"专辑名",prop:"al.name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("p",{staticStyle:{color:"red"}},[t._v(" "+t._s(e.row.al.name?e.row.al.name:"未知专辑"))]):i("p",[t._v(t._s(e.row.al.name?e.row.al.name:"未知专辑"))])]}}])}),i("el-table-column",{attrs:{label:"时长",prop:"dt",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("p",{staticStyle:{color:"red"}},[t._v(t._s(e.row.dt))]):i("p",[t._v(t._s(e.row.dt))])]}}])})],1)],1)],1),i("el-dialog",{attrs:{title:"请使用网易云app扫码登录",visible:t.loginDialogVisible,width:"300px"},on:{"update:visible":function(e){t.loginDialogVisible=e},close:t.handleLoginDialogClosed}},[i("img",{attrs:{id:"QRCODE",src:"",alt:""}})])],1)},g=[],h=(i("c740"),i("4160"),i("c975"),i("a434"),i("a9e3"),i("9129"),i("25eb"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),i("1276"),i("498a"),i("159b"),i("96cf"),i("1da1")),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{key:this.$route.params.data},[i("el-header",{staticStyle:{"border-bottom":"1px solid rgb(230,230,230)"},attrs:{height:"150px;"}},[i("el-menu",{staticStyle:{margin:"0 auto",width:"420px"},attrs:{"default-active":"/searchBySong/"+this.$route.params.data,router:!0,mode:"horizontal"}},[i("el-menu-item",{ref:"songClick",attrs:{index:"/searchBySong/"+this.$route.params.data}},[t._v("单曲")]),i("el-menu-item",{attrs:{index:"/searchBySinger/"+this.$route.params.data}},[t._v("歌手")]),i("el-menu-item",{attrs:{index:"/searchByVideo/"+this.$route.params.data}},[t._v("视频")]),i("el-menu-item",{attrs:{index:/searchByPlayList/+""+this.$route.params.data}},[t._v("歌单")])],1)],1),i("el-main",[i("router-view",{ref:"child",on:{setMusicUrl:t.setMusicUrl}})],1)],1)},m=[],y={data:function(){return{searchData:decodeURIComponent(this.$route.params.data)}},created:function(){this.toSingSearchPage()},methods:{toSingSearchPage:function(){this.searchData=this.$route.params.data;var t=window.location.href;t.substring(t.indexOf("#/")+1,t.length)==="/search/"+encodeURIComponent(this.$route.params.data)&&this.$router.push("/searchBySong/"+decodeURIComponent(this.$route.params.data))},setMusicUrl:function(t,e){this.$emit("setMusicUrl",t,e)}}},v=y,x=(i("37ba"),Object(l["a"])(v,f,m,!1,null,"1c1675b2",null)),b=x.exports,S=i("4a37"),_=i.n(S),w={data:function(){return{username:"",userImg:"",cookieLogin:"",timer:0,isHot:!1,musicUrl:"",music:{name:name,al:{picUrl:""},ar:[{name:""}]},musicDuration:0,curId:0,totalDuration:0,musicVolume:100,isPlay:!1,playListInfo:null===window.localStorage.getItem("playList")?[]:window.localStorage.getItem("playList").split(","),currentMusicListInfo:[],songListInfo:[],showRightPlayListDialog:!1,loginDialogVisible:!1,loginInfo:{phone:"",password:""},loginInfoRules:{phone:[{required:!0,message:" ",trigger:"blur"}],password:[{required:!0,message:" ",trigger:"blur"}]},currentUserInfo:"null"===window.localStorage.getItem("currentUserInfo")?null:JSON.parse(window.localStorage.getItem("currentUserInfo")),currentUserPlayList:[],searchData:"五月天",hotSearchData:[],level:"null"===window.localStorage.getItem("level")?0:window.localStorage.getItem("level")}},watch:{curId:function(t){this.resetSetItem("curPlayMusicId",t)}},created:function(){var t=this;null!==this.currentUserInfo&&this.getUserPrivatePlayList(),this.playListInfo.forEach((function(e,i){t.playListInfo[i]=Number.parseInt(e)}))},mounted:function(){window.localStorage.getItem("musicUrl")&&(this.musicUrl=window.localStorage.getItem("musicUrl"),this.music=JSON.parse(window.localStorage.getItem("music")),this.curId=this.music.id,this.setAudioTagsInfo(),Number.isNaN(this.totalDuration)&&this.changeNextMusic())},methods:{toSingerPage:function(t){this.$router.push("/singer/"+t)},loopSong:function(){if("infinite-outline"===this.$("#loop").attr("name")){this.$("#loop").attr({name:"repeat-outline",title:"列表循环"});var t=this.$(".playMusicAudio")[0];t.loop=!1}else{this.$("#loop").attr({name:"infinite-outline",title:"单曲循环"});var e=this.$(".playMusicAudio")[0];e.loop=!0}},generateQR:function(t){var e=t,i=_.a.getQrBase64(e);return i},getHot:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("search/hot/detail");case 2:i=e.sent,t.hotSearchData=i.data.data;case 4:case"end":return e.stop()}}),e)})))()},showHotSearch:function(){this.isHot=!0,this.getHot()},hideHotSearch:function(){this.isHot=!1},setMusicUrl:function(t,e){this.musicUrl=t,this.music=e,this.curId=e.id,window.localStorage.setItem("musicUrl",t),window.localStorage.setItem("music",JSON.stringify(e));var i=this.playListInfo.indexOf(e.id);-1!==i&&this.playListInfo.splice(i,1),this.playListInfo.splice(this.curId+1,0,e.id),window.localStorage.setItem("playList",this.playListInfo.toString()),this.showRightPlayListDialog=!1,this.setAudioTagsInfo()},setAudioTagsInfo:function(){var t=this,e=this.$(".playMusicAudio")[0];e.addEventListener("timeupdate",(function(){t.totalDuration=e.duration,t.musicDuration=e.currentTime,e.currentTime>=e.duration&&(t.isPlay=!1,t.changeNextMusic())})),this.isPlay=!0},musicDurationChange:function(){if(0!==this.totalDuration){this.musicDuration===this.totalDuration&&this.changeNextMusic();var t=this.$(".playMusicAudio")[0];t.currentTime=this.musicDuration}},musicVolumeChange:function(){this.volumeChange(this.musicVolume/100)},volumeChange:function(t){var e=this.$(".playMusicAudio")[0];e.volume=t},silence:function(){0!==this.musicVolume?(this.$("#voice").attr("name","volume-mute-outline"),this.volumeChange(0),this.musicVolume=0):(this.$("#voice").attr("name","volume-high-outline"),this.volumeChange(.5),this.musicVolume=50)},playMusic:function(){var t=this.$(".playMusicAudio")[0];""!==this.musicUrl&&(t.paused?t.play():t.pause(),this.isPlay=!this.isPlay)},setSongListInfo:function(t,e){var i=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.playListInfo=t,window.localStorage.setItem("playList",t),n.next=4,i.$http.get("song/url",{params:{id:e}});case 4:a=n.sent,null===a.data.data[0].url?(i.$message.info("当前歌曲暂不可用,已为您自动跳过"),i.curId=e,i.changeNextMusic()):(i.musicUrl=a.data.data[0].url,window.localStorage.setItem("musicUrl",i.musicUrl),i.$http.get("song/detail",{params:{ids:e}}).then((function(t){i.music=t.data.songs[0],window.localStorage.setItem("music",JSON.stringify(i.music))})),i.curId=e,i.setAudioTagsInfo());case 6:case"end":return n.stop()}}),n)})))()},getMusicDetail:function(t){var e=this;this.$http.get("song/detail",{params:{ids:t}}).then((function(t){e.music=t.data.songs[0],window.localStorage.setItem("music",JSON.stringify(e.music))}))},getMusicUrl:function(t){var e=this;this.$http.get("song/url",{params:{id:t}}).then((function(t){e.musicUrl=t.data.data[0].url,window.localStorage.setItem("musicUrl",e.musicUrl)}))},changeNextMusic:function(){var t=this,e=this.playListInfo.findIndex((function(e){return e===t.curId}))+1;e===this.playListInfo.length&&(e=0);var i=this.playListInfo[e];this.setSongListInfo(this.playListInfo,i)},changePrevMusic:function(){var t=this,e=this.playListInfo[this.playListInfo.findIndex((function(e){return e===t.curId}))-1];-1===e&&(e=this.playListInfo.length-1),this.setSongListInfo(this.playListInfo,e)},showRightPlayList:function(){var t=this;this.$http.get("song/detail",{params:{ids:window.localStorage.getItem("playList")}}).then((function(e){t.currentMusicListInfo=e.data.songs,t.currentMusicListInfo.forEach((function(t){var e=new Date(t.dt),i=(e.getMinutes()+"").padStart(2,"0"),n=(e.getSeconds()+"").padStart(2,"0");t.dt=i+":"+n}))})),this.showRightPlayListDialog=!this.showRightPlayListDialog},playRightMusicList:function(t){this.setSongListInfo(this.playListInfo,t.id)},toMusicDetailPage:function(){this.$router.push("/musicDetail/"+this.curId)},handleLogin:function(){this.loginMusic(),this.loginDialogVisible=!0},checkIsLogin:function(t){var e=this;this.$http.get("login/qr/check",{params:{key:t}}).then((function(t){803===t.data.code&&(clearInterval(e.timer),e.cookieLogin=t.data.cookie,window.localStorage.setItem("musicCookie",t.data.cookie),document.cookie=t.data.cookie,e.$http.get("login/status").then((function(t){e.currentUserInfo=t.data.data.profile,window.localStorage.setItem("currentUserInfo",JSON.stringify(t.data.data.profile)),e.$http.get("user/detail",{params:{uid:e.currentUserInfo.userId}}).then((function(t){e.level=t.data.level,window.localStorage.setItem("level",e.level)}))})))}))},loginMusic:function(){var t=this;this.$http.get("login/qr/key").then((function(e){var i=e.data.data.unikey;t.$http.get("login/qr/create",{params:{key:i}}).then((function(e){var n=t.generateQR(e.data.data.qrurl);t.$("#QRCODE").attr("src",n),t.timer=setInterval(t.checkIsLogin,3e3,i)}))}))},getUserPrivatePlayList:function(){var t=this;this.$http.get("user/playlist",{params:{uid:this.currentUserInfo.userId}}).then((function(e){t.currentUserPlayList=e.data.playlist}))},handleLoginDialogClosed:function(){this.$refs.loginInfoRuleForm.resetFields()},logout:function(){var t=this;this.$http.get("logout").then((function(e){t.currentUserInfo=null,window.localStorage.removeItem("currentUserInfo"),t.currentUserPlayList=[]}))},changePlaylistId:function(t){this.resetSetItem("currentId",t)},toSearchPage:function(){""!==this.searchData.trim()&&(this.$router.replace("/search/"+encodeURIComponent(this.searchData)),this.$refs.child.toSingSearchPage())},hotToSearchPage:function(t){this.searchData=t,this.toSearchPage()}},components:{child:b}},I=w,L=(i("033a"),Object(l["a"])(I,d,g,!1,null,"6a798112",null)),k=L.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-header",{staticStyle:{"border-bottom":"1px solid rgb(230,230,230)"},attrs:{height:"150px;"}},[i("el-menu",{staticStyle:{margin:"0 auto",width:"420px"},attrs:{id:"cur","default-active":"/diyRecommend",router:!0,mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"/diyRecommend"},on:{click:t.clearCur}},[t._v("个性推荐")]),i("el-menu-item",{attrs:{index:"/musicListPage"},on:{click:t.clearCur}},[t._v("歌单")]),i("el-menu-item",{attrs:{index:"/musicRank"},on:{click:t.clearCur}},[t._v("排行榜")]),i("el-menu-item",{attrs:{index:"/singerList"},on:{click:t.clearCur}},[t._v("歌手")]),i("el-menu-item",{attrs:{index:"/newMusicList"},on:{click:t.clearCur}},[t._v("最新音乐")])],1)],1),i("el-main",[i("router-view",{ref:"child",on:{setParentMusicUrl:t.setParentMusicUrl,setSongListInfo:t.setSongListInfo}})],1)],1)},$=[],M={data:function(){return{turnList:["/diyRecommend","/musicListPage","/musicRank","/singerList","/newMusicList"]}},mounted:function(){this.clearCur()},methods:{clearCur:function(){var t=window.location.href.split("#")[1],e=this.turnList.indexOf(t);this.$("#cur").children().eq(e).addClass("is-active").siblings().removeClass("is-active")},setParentMusicUrl:function(t,e){this.$emit("setMusicUrl",t,e)},setSongListInfo:function(t,e){this.$emit("setSongListInfo",t,e)}}},P=M,z=(i("0070"),Object(l["a"])(P,C,$,!1,null,"feaeb6e8",null)),U=z.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{"margin-top":"25px","margin-bottom":"45px"}},[i("el-header",{attrs:{height:"300px;"}},[i("el-carousel",{attrs:{type:"card",height:"265px"}},t._l(t.bannerInfo,(function(e,n){return i("el-carousel-item",{key:n},[i("el-image",{staticStyle:{height:"300px"},attrs:{src:e.imageUrl,fit:"contain"}}),i("el-tag",{staticStyle:{position:"absolute",top:"240px",left:"540px"},attrs:{type:"danger",effect:"dark",size:"mini"}},[t._v(" "+t._s(e.typeTitle)+" ")])],1)})),1)],1),i("el-main",[i("el-row",{staticStyle:{"border-bottom":"2px solid rgb(230,230,230)"}},[i("p",{staticStyle:{"margin-bottom":"10px","font-size":"22px"}},[t._v("推荐歌单")])]),i("el-row",{attrs:{gutter:10}},t._l(t.musicList,(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative"},attrs:{span:4}},[i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white",width:"96%",position:"absolute","z-index":"10"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s(e.playCount>=1e4?(e.playCount/1e4).toFixed(0)+"万":e.playCount)+" ")])]),i("div",[i("el-image",{staticStyle:{width:"100%",height:"100%","box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.coverImgUrl},on:{click:function(i){return t.toSongListPage(e.id)}}})],1),i("h1",{staticStyle:{cursor:"pointer"},attrs:{title:e.name},on:{click:function(i){return t.toSongListPage(e.id)}}},[t._v(" "+t._s(e.name.toString().length>=30?e.name.toString().substring(0,27)+"···":e.name))])])})),1),i("el-row",{staticStyle:{"border-bottom":"2px solid rgb(230,230,230)"}},[i("p",{staticStyle:{"margin-bottom":"10px","font-size":"22px"}},[t._v("独家放送")])]),i("el-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:40}},t._l(t.privateList,(function(e){return i("el-col",{key:e.id,attrs:{span:8}},[i("i",{staticClass:"el-icon-video-play",staticStyle:{color:"rgba(255,255,255,0.4)","font-size":"45px",position:"absolute",top:"10px","z-index":"10"}}),i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"5px",cursor:"pointer"},attrs:{src:e.sPicUrl},on:{click:function(i){return t.toVideoPage(e.id)}}}),i("h1",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toVideoPage(e.id)}}},[t._v(t._s(e.name))])],1)})),1),i("el-row",{staticStyle:{"border-bottom":"2px solid rgb(230,230,230)"}},[i("p",{staticStyle:{"margin-bottom":"10px","font-size":"22px"}},[t._v("最新音乐")])]),i("el-row",{staticStyle:{"margin-top":"25px"}},[i("el-col",{attrs:{span:8}},[i("el-table",{attrs:{data:t.newMusicList.slice(0,4),stripe:"","show-header":!1},on:{"row-dblclick":t.dblclickPlayMusic}},[i("el-table-column",{attrs:{type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s("0"+(e.$index+1).toString())+" ")]}}])}),i("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-video-play",staticStyle:{position:"absolute","font-size":"25px",top:"35px",left:"35px","z-index":"10",cursor:"pointer"},on:{click:function(i){return t.changeUrl(e.row.id)}}}),i("el-image",{staticStyle:{width:"75px",height:"75px",cursor:"pointer","border-radius":"10px"},attrs:{src:e.row.picUrl},on:{click:function(i){return t.changeUrl(e.row.id)}}}),i("span",{staticStyle:{position:"absolute","font-size":"15px",left:"90px",top:"20px","font-weight":"500",width:"200px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{title:0===e.row.song.alias.length?e.row.name:e.row.name+"("+e.row.song.alias[0]+")"}},[t._v(" "+t._s(0===e.row.song.alias.length?e.row.name:e.row.name+"("+e.row.song.alias[0]+")")+" ")]),i("div",{staticStyle:{position:"absolute","font-size":"10px",left:"90px",top:"60px"}},[e.row.song.sqMusic?i("span",{staticStyle:{"box-shadow":"0px 0px 5px 2px rgba(255,0,0,0.1)",padding:"0 2px",border:"solid 1px red",color:"red","border-radius":"5px","margin-right":"10px","user-select":"none"}},[t._v(t._s(e.row.song.sqMusic?44100===e.row.song.sqMusic.sr?"SQ":"Hi-Res":""))]):t._e(),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toSingerPage(e.row)}}},[t._v(t._s(e.row.song.artists[0].name))])])]}}])})],1)],1),i("el-col",{attrs:{span:8}},[i("el-table",{attrs:{data:t.newMusicList.slice(4,8),stripe:"","show-header":!1},on:{"row-dblclick":t.dblclickPlayMusic}},[i("el-table-column",{attrs:{type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s("0"+(e.$index+5).toString())+" ")]}}])}),i("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-video-play",staticStyle:{position:"absolute","font-size":"25px",top:"35px",left:"35px","z-index":"10",cursor:"pointer"},on:{click:function(i){return t.changeUrl(e.row.id)}}}),i("el-image",{staticStyle:{width:"75px",height:"75px",cursor:"pointer","border-radius":"10px"},attrs:{src:e.row.picUrl},on:{click:function(i){return t.changeUrl(e.row.id)}}}),i("span",{staticStyle:{position:"absolute","font-size":"15px",left:"90px",top:"20px","font-weight":"500",width:"200px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{title:0===e.row.song.alias.length?e.row.name:e.row.name+"("+e.row.song.alias[0]+")"}},[t._v(" "+t._s(0===e.row.song.alias.length?e.row.name:e.row.name+"("+e.row.song.alias[0]+")")+" ")]),i("div",{staticStyle:{position:"absolute","font-size":"10px",left:"90px",top:"60px"}},[e.row.song.sqMusic?i("span",{staticStyle:{"box-shadow":"0px 0px 5px 2px rgba(255,0,0,0.1)",padding:"0 2px",border:"solid 1px red",color:"red","border-radius":"5px","margin-right":"10px","user-select":"none"}},[t._v(t._s(e.row.song.sqMusic?44100===e.row.song.sqMusic.sr?"SQ":"Hi-Res":""))]):t._e(),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toSingerPage(e.row)}}},[t._v(t._s(e.row.song.artists[0].name))])])]}}])})],1)],1),i("el-col",{attrs:{span:8}},[i("el-table",{attrs:{data:t.newMusicList.slice(8),stripe:"","show-header":!1},on:{"row-dblclick":t.dblclickPlayMusic}},[i("el-table-column",{attrs:{type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index>=1?e.$index+9:"0"+(e.$index+9).toString())+" ")]}}])}),i("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-image",{staticStyle:{width:"75px",height:"75px",cursor:"pointer","border-radius":"10px"},attrs:{src:e.row.picUrl},on:{click:function(i){return t.changeUrl(e.row.id)}}}),i("i",{staticClass:"el-icon-video-play",staticStyle:{position:"absolute","font-size":"25px",top:"35px",left:"35px","z-index":"10",cursor:"pointer"},on:{click:function(i){return t.changeUrl(e.row.id)}}}),i("span",{staticStyle:{position:"absolute","font-size":"15px",left:"90px",top:"20px","font-weight":"500",width:"200px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{title:0===e.row.song.alias.length?e.row.name:e.row.name+"("+e.row.song.alias[0]+")"}},[t._v(" "+t._s(0===e.row.song.alias.length?e.row.name:e.row.name+"("+e.row.song.alias[0]+")")+" ")]),i("div",{staticStyle:{position:"absolute","font-size":"10px",left:"90px",top:"60px"}},[e.row.song.sqMusic?i("span",{staticStyle:{"box-shadow":"0px 0px 5px 2px rgba(255,0,0,0.1)",padding:"0 2px",border:"solid 1px red",color:"red","border-radius":"5px","margin-right":"10px","user-select":"none"}},[t._v(t._s(e.row.song.sqMusic?44100===e.row.song.sqMusic.sr?"SQ":"Hi-Res":""))]):t._e(),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toSingerPage(e.row)}}},[t._v(t._s(e.row.song.artists[0].name))])])]}}])})],1)],1)],1)],1)],1)},D=[],T=(i("b680"),{data:function(){return{bannerInfo:[],musicUrl:"",music:{},musicList:[],privateList:[],newMusicList:[]}},props:{},created:function(){this.getBannerInfo(),this.getMusicList(),this.getPrivateList(),this.getNewMusicList()},methods:{getBannerInfo:function(){var t=this;this.$http.get("banner").then((function(e){200!==e.status&&t.$message.error("轮播图数据获取失败"),t.bannerInfo=e.data.banners}))},changeUrl:function(t){null!==t&&(this.getMusicUrl(t),this.getMusicDetail(t),""!==this.musicUrl&&this.$emit("setParentMusicUrl",this.musicUrl,this.music))},getMusicUrl:function(t){var e=this;this.$http.get("song/url",{params:{id:t}}).then((function(t){e.musicUrl=t.data.data[0].url,window.localStorage.setItem("musicUrl",e.musicUrl)}))},getMusicDetail:function(t){var e=this;this.$http.get("song/detail",{params:{ids:t}}).then((function(t){e.music=t.data.songs[0],window.localStorage.setItem("music",JSON.stringify(e.music))}))},getMusicList:function(){var t=this;this.$http.get("/top/playlist",{params:{offset:(1297*Math.random()).toFixed(0)-12,limit:12}}).then((function(e){t.musicList=e.data.playlists}))},toSongListPage:function(t){0!==t&&this.$router.push("/songlist/"+t)},getPrivateList:function(){var t=this;this.$http.get("/personalized/privatecontent").then((function(e){t.privateList=e.data.result}))},toVideoPage:function(t){this.$router.push("toVideoPage/"+t)},getNewMusicList:function(){var t=this;this.$http.get("personalized/newsong?limit=12").then((function(e){t.newMusicList=e.data.result}))},dblclickPlayMusic:function(t){this.changeUrl(t.id)},toSingerPage:function(t){this.$router.push("/singer/"+t.song.artists[0].id)}}}),R=T,O=(i("2bf9"),Object(l["a"])(R,q,D,!1,null,"751ca4b7",null)),V=O.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{"margin-bottom":"55px","min-width":"1000px"}},[i("el-header",{attrs:{height:"220px;"}},[i("el-row",[i("img",{staticStyle:{width:"220px",height:"220px"},attrs:{src:t.currentSongList.coverImgUrl}}),i("el-tag",{staticStyle:{"background-color":"white",position:"absolute",top:"0",left:"240px"},attrs:{type:"danger"}},[t._v("歌单 ")]),i("h2",{staticStyle:{position:"absolute",top:"-20px",left:"300px","font-weight":"400"}},[t._v(t._s(t.currentSongList.name))]),i("div",{staticStyle:{position:"absolute",top:"45px",left:"240px"}},[i("img",{staticStyle:{width:"35px",height:"35px","border-radius":"15px",display:"inline","vertical-align":"middle"},attrs:{src:t.currentSongList.creator.avatarUrl}}),i("span",{staticStyle:{display:"inline","margin-left":"10px"},attrs:{id:"nickname"}},[t._v(t._s(t.currentSongList.creator.nickname))]),i("span",{staticStyle:{display:"inline",opacity:"0.7","margin-left":"20px"},attrs:{id:"createTime"}},[t._v(t._s(t._f("dateFormat")(t.currentSongList.createTime))+"创建")])]),i("el-button",{staticStyle:{position:"absolute",top:"90px",left:"240px"},attrs:{type:"danger",size:"mini",icon:"el-icon-video-play"},on:{click:function(e){return t.setSongListInfo(t.playList,t.playList[0])}}},[t._v(" 播放全部 ")]),i("el-button",{staticStyle:{position:"absolute",top:"90px",left:"340px",color:"black"},attrs:{icon:"el-icon-folder-add",size:"mini"},on:{click:function(e){return t.subscripe(t.currentSongList.id)}}},[t._v(" 收藏("+t._s(t.currentSongList.subscribedCount)+") ")]),i("el-button",{staticStyle:{position:"absolute",top:"90px",left:"465px",color:"black"},attrs:{icon:"el-icon-share",size:"mini"}},[t._v(" 分享("+t._s(t.currentSongList.shareCount)+") ")]),i("span",{staticStyle:{position:"absolute",top:"130px",left:"240px"}},[t._v(" 标签: "),t._l(t.currentSongList.tags,(function(e,n){return i("button",{staticClass:"tags"},[t._v(t._s((t.currentSongList.tags.length,e)))])}))],2),i("span",{staticStyle:{position:"absolute",top:"165px",left:"240px",color:"gray"}},[t._v(" 歌曲:"+t._s(t.currentSongList.trackCount)+" 播放:"+t._s((t.currentSongList.playCount/1e4).toFixed(0))+"万 ")]),i("span",{staticStyle:{position:"absolute",top:"200px",left:"240px",border:"none","z-index":"999",width:"500px"},attrs:{id:"des1"}},[t._v(" 简介："+t._s(null!==t.currentSongList.description?t.currentSongList.description.substr(0,26)+"...":t.currentSongList.description)+" ")]),i("span",{staticStyle:{display:"none","margin-left":"240px","margin-top":"-24px",border:"none","z-index":"999",width:"700px"},attrs:{id:"des2"}},[t._v(" 简介："+t._s(t.currentSongList.description)+" ")]),i("span",{staticStyle:{position:"absolute",top:"200px",left:"1000px","z-index":"99"}},[i("i",{staticClass:"el-icon-caret-bottom",staticStyle:{cursor:"pointer"},attrs:{id:"des3"},on:{click:t.showDescription}})])],1)],1),i("el-main",[i("el-menu",{staticClass:"el-menu-demo",staticStyle:{width:"280px","margin-left":"20px"},attrs:{"default-active":"1",mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"1"},on:{click:t.toMusicListPage}},[t._v("歌曲列表")]),i("el-menu-item",{attrs:{index:"2"},on:{click:t.toCommentPage}},[t._v("评论("+t._s(t.currentSongList.commentCount)+")")])],1),i("router-view",{ref:"child",on:{setSongListInfo:t.setSongListInfo}})],1)],1)},j=[],A=(i("baa5"),{data:function(){return{showDesc:!0,currentId:this.$route.params.id?this.$route.params.id:window.localStorage.getItem("currentId"),currentSongList:{description:"",creator:{avatarUrl:"",nickname:""}},queryIds:"",playList:null===window.localStorage.getItem("playList")?[]:window.localStorage.getItem("playList").split(",")}},created:function(){var t=this;this.getSongListInfo(),window.addEventListener("setItem",(function(){t.currentId=parseInt(localStorage.getItem("currentId")),t.getSongListInfo()}))},mounted:function(){window.localStorage.setItem("currentId",this.currentId)},methods:{showDescription:function(){this.showDesc?(this.$("#des1").hide(),this.$("#des2").css("display","block"),this.$("#des3").removeClass("el-icon-caret-bottom").addClass("el-icon-caret-top")):(this.$("#des2").hide(),this.$("#des1").show(),this.$("#des3").removeClass("el-icon-caret-top").addClass("el-icon-caret-bottom")),this.showDesc=!this.showDesc},getSongListInfo:function(){var t=this;this.$http.get("playlist/detail",{params:{id:this.currentId}}).then((function(e){t.currentSongList=e.data.playlist;var i=window.location.href;"/musicPage"!==i.substring(i.lastIndexOf("/"),i.length)&&t.toMusicListPage(),t.$("#createTime").css("left",t.$("#nickname").width()+20+Number.parseInt(t.$("#createTime").css("left").split("p")[0]))}))},toMusicListPage:function(){var t="";this.currentSongList.trackIds.forEach((function(e){t+=e.id+","})),this.$router.push({name:"musicPage",params:{ids:t.substr(0,t.length-1)}})},toCommentPage:function(){this.$router.push("/comment/"+this.currentId)},setSongListInfo:function(t,e){this.playList=t,this.$emit("setSongListInfo",t,e)},subscripe:function(t){var e=this;this.$http.get("playlist/subscribe",{params:{id:t,t:1}}).then((function(t){return 200===t.data.code?e.$message.success("收藏成功,数据同步需要时间!"):e.$message.info("收藏失败!")}))}}}),F=A,N=(i("3633"),Object(l["a"])(F,E,j,!1,null,"58212805",null)),H=N.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{ref:"playTable",staticStyle:{cursor:"context-menu",width:"90%","margin-left":"20px"},attrs:{data:t.currentMusicListInfo,"highlight-current-row":"",border:"",stripe:"","empty-text":"数据正在读取中..."},on:{"row-dblclick":t.playMusicList}},[i("el-table-column",{attrs:{label:"",type:"index",align:"center",width:"50px"}}),i("el-table-column",{attrs:{label:"操作",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("ion-icon",{attrs:{name:"heart-outline"}}),i("ion-icon",{attrs:{name:"download-outline"}})]}}])}),i("el-table-column",{attrs:{label:"标题",prop:"name",width:"300px",sortable:!0},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.name}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),i("el-table-column",{attrs:{label:"歌手",prop:"ar[0].name",width:"195px;",sortable:!0},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.ar,(function(n,a){return i("span",{staticClass:"singer",staticStyle:{cursor:"pointer"},attrs:{title:(e.row.ar.length,n.name)},on:{click:function(e){return t.toSingerPage(n.id)}}},[t._v(" "+t._s(a!==e.row.ar.length-1?n.name+" /":n.name)+" ")])}))}}])}),i("el-table-column",{attrs:{label:"专辑",prop:"al.name",width:"400px",sortable:!0},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"alName",staticStyle:{cursor:"pointer"},attrs:{title:e.row.al.name}},[t._v(" "+t._s(e.row.al.name)+" ")])]}}])}),i("el-table-column",{attrs:{label:"时间",prop:"dt",width:"95px;",sortable:!0}})],1)},J=[],Q={data:function(){return{queryIds:this.$route.params.ids?this.$route.params.ids:window.localStorage.getItem("queryIds"),currentMusicListInfo:[],songListInfo:[],curId:parseInt(window.localStorage.getItem("curPlayMusicId"))}},created:function(){var t=this;this.handlerSongList(),window.addEventListener("setItem",(function(){t.curId=parseInt(localStorage.getItem("curPlayMusicId"))}))},mounted:function(){window.localStorage.setItem("queryIds",this.queryIds)},methods:{handlerSongList:function(){var t=this;this.$http.get("song/detail",{params:{ids:this.queryIds}}).then((function(e){t.currentMusicListInfo=e.data.songs,t.currentMusicListInfo.forEach((function(t){var e=new Date(t.dt),i=(e.getMinutes()+"").padStart(2,"0"),n=(e.getSeconds()+"").padStart(2,"0");t.dt=i+":"+n})),t.setSongListInfo()}))},playMusicList:function(t){this.$emit("setSongListInfo",this.songListInfo,t.id)},setSongListInfo:function(){var t=this;this.currentMusicListInfo.forEach((function(e){t.songListInfo.push(e.id)}))},toSingerPage:function(t){this.$router.push("/singer/"+t)}}},Y=Q,G=(i("d1bc"),Object(l["a"])(Y,B,J,!1,null,"596ced7a",null)),W=G.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-header",{attrs:{height:"180px;"}},[i("div",{staticStyle:{"background-color":"rgb(240,240,242)",height:"130px","margin-top":"25px",width:"1000px",padding:"15px"}},[i("el-input",{staticStyle:{display:"inline-block",width:"98%",margin:"15px 15px"},attrs:{type:"text","show-word-limit":"",maxlength:"120",size:"medium"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),i("el-button",{staticStyle:{float:"right","margin-right":"14px"},attrs:{size:"mini"},on:{click:t.sendComment}},[t._v("评论")])],1)]),i("el-main",{staticStyle:{"margin-top":"25px","margin-bottom":"35px"}},[0===t.queryInfo.offset?i("h4",{staticStyle:{"font-weight":"300"}},[t._v("精彩评论")]):t._e(),t._l(t.hotCommentList,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)",width:"1000px","border-bottom":"1px solid rgb(240,240,242)",padding:"15px","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))])})),0):t._e(),i("p",{staticStyle:{display:"inline","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))]),i("p",{staticStyle:{display:"inline","margin-left":"750px"}},[i("ion-icon",{staticStyle:{color:"skyblue"},attrs:{name:"thumbs-up-outline"}}),t._v(" "+t._s(e.likedCount))],1)])])])})),t.total?i("h4",{staticStyle:{"font-weight":"300","margin-top":"25px"}},[t._v("最新评论("+t._s(t.total)+")")]):t._e(),t._l(t.commentList,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)","border-bottom":"1px solid rgb(240,240,242)",width:"1000px",padding:"15px","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v("@"+t._s(e.user.nickname))]),t._v(": "+t._s(e.content))])})),0):t._e(),i("p",{staticStyle:{display:"inline","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))]),i("p",{staticStyle:{display:"inline","margin-left":"750px"}},[i("ion-icon",{staticStyle:{color:"skyblue"},attrs:{name:"thumbs-up-outline"}}),t._v(" "+t._s(e.likedCount))],1)])])])})),i("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.queryInfo.limit,total:t.total},on:{"current-change":t.handleCurrentChange}})],2)],1)},X=[],Z={data:function(){return{queryInfo:{id:this.$route.params.id,limit:10,offset:0},currentId:this.$route.params.id,commentList:[],hotCommentList:[],total:0,comment:""}},created:function(){this.getCommentList()},methods:{getCommentList:function(){var t=this;this.$http.get("comment/playlist",{params:this.queryInfo}).then((function(e){if(200!==e.data.code)return t.$message.error("获取评论数据失败!");t.commentList=e.data.comments,t.hotCommentList=e.data.hotComments,t.total=e.data.total}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getCommentList()},sendComment:function(){var t=this;this.$http.get("comment",{params:{t:1,type:2,id:this.currentId,content:this.comment}}).then((function(e){if(console.log(e),200!==e.data.code)return t.$message.error("用户未登录,或遇未知错误");t.getCommentList(),t.$message.success("评论成功!数据同步可能会耗时!")}))}}},tt=Z,et=(i("2185"),Object(l["a"])(tt,K,X,!1,null,"28634e4c",null)),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{staticStyle:{"margin-bottom":"75px"}},[i("el-col",{attrs:{span:14,offset:2}},[i("el-row",[i("el-tag",{staticStyle:{"background-color":"white",border:"1px solid red"},attrs:{size:"mini",type:"danger"}},[t._v("MV")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.mvDetailInfo.data.name))]),i("span",{staticStyle:{"margin-left":"10px","font-size":"5px"}},[t._v(t._s(t.mvDetailInfo.data.artistName))])],1),i("el-row",{staticStyle:{"margin-top":"5px"}},[i("video",{staticStyle:{"background-color":"black"},attrs:{width:"100%",height:"480",autoplay:"",src:t.mvUrl,controls:"controls"}},[t._v(" 很抱歉,您的浏览器当前不支持最新播放标签! ")])]),i("el-row",[i("p",{staticStyle:{"margin-top":"15px","font-size":"18px"}},[t._v("评论("+t._s(t.commentTotal)+")")]),i("div",{staticStyle:{"background-color":"rgb(240,240,242)",height:"120px","margin-top":"15px"}},[i("el-input",{staticStyle:{display:"inline-block",width:"98%",margin:"15px 15px"},attrs:{type:"text","show-word-limit":"",maxlength:"140",size:"medium"}}),i("el-button",{staticStyle:{float:"right","margin-right":"14px"},attrs:{size:"mini"}},[t._v("评论")])],1),0===t.queryInfo.offset&&0!==t.mvHotComment.length?i("h4",{staticStyle:{"font-weight":"300"}},[t._v("精彩评论")]):t._e(),t._l(t.mvHotComment,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v("@"+t._s(e.user.nickname))]),t._v(": "+t._s(e.content))])})),0):t._e(),i("p",{staticStyle:{display:"inline","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))]),i("p",{staticStyle:{display:"inline","margin-left":"500px"}},[i("ion-icon",{staticStyle:{color:"skyblue"},attrs:{name:"thumbs-up-outline"}}),t._v(" "+t._s(e.likedCount))],1)])])])})),i("h4",{staticStyle:{"font-weight":"300","margin-top":"25px"}},[t._v("最新评论("+t._s(t.commentTotal)+")")]),t._l(t.mvCommentList,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))])})),0):t._e(),i("p",{staticStyle:{display:"inline","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))]),i("p",{staticStyle:{display:"inline","margin-left":"500px"}},[i("ion-icon",{staticStyle:{color:"skyblue"},attrs:{name:"thumbs-up-outline"}}),t._v(" "+t._s(e.likedCount))],1)])])])})),i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next","page-size":t.queryInfo.limit,total:t.commentTotal},on:{"current-change":t.handleCurrentChange}})],2)],1),i("el-col",{attrs:{span:7,offset:1}},[i("el-row",{staticStyle:{"border-bottom":"1px solid rgb(230,230,230)","padding-bottom":"10px"}},[i("span",{staticStyle:{"margin-left":"10px","font-size":"20px","font-weight":"400"}},[t._v("MV介绍")])]),i("el-row",{staticStyle:{"margin-top":"10px","margin-left":"12px"}},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("发布时间: "),i("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.mvDetailInfo.data.publishTime))])]),i("span",{staticStyle:{"font-size":"14px","margin-left":"15px",float:"right"}},[t._v("播放次数: "),i("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s((t.mvDetailInfo.data.playCount/1e4).toFixed(0)+"万次"))])])]),i("el-row",{staticStyle:{"margin-top":"10px","margin-left":"12px"}},[i("p",{staticStyle:{"font-size":"14px","font-weight":"400"}},[t._v("简介: "+t._s(t.mvDetailInfo.data.desc))])]),i("el-row",{staticStyle:{"margin-top":"45px","border-bottom":"1px solid rgb(230,230,230)","padding-bottom":"10px"}},[i("span",{staticStyle:{"margin-left":"10px","font-size":"20px","font-weight":"400"}},[t._v("相关推荐")])]),t._l(t.simiMvList,(function(e){return i("el-row",{staticStyle:{"margin-top":"25px"}},[i("el-col",{attrs:{span:8}},[i("el-image",{staticStyle:{width:"200px",height:"120px",cursor:"pointer","border-radius":"10px"},attrs:{src:e.cover},on:{click:function(i){return t.toMvPage(e.id)}}}),i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white","user-select":"none",width:"100px",position:"absolute","z-index":"10",top:"2px",left:"95px"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s((e.playCount/1e4).toFixed(0))+"万 ")])]),i("p",{staticStyle:{"font-size":"14px","user-select":"none",color:"white",width:"100px",position:"absolute","z-index":"10",top:"88px",left:"160px"}},[t._v(" "+t._s(t._f("timeFormat")(e.duration/1e3)))])],1),i("el-col",{attrs:{span:11,offset:5}},[i("el-tag",{staticStyle:{"background-color":"white",border:"1px solid red"},attrs:{size:"mini",type:"danger"}},[t._v("MV")]),i("span",{staticStyle:{"font-size":"15px","margin-left":"10px",cursor:"pointer"},on:{click:function(i){return t.toMvPage(e.id)}}},[t._v(t._s(e.name))]),i("p",{staticStyle:{"font-size":"14px",opacity:"0.7",cursor:"pointer"},on:{click:function(i){return t.toSearchPage(e.artistName)}}},[t._v("by "+t._s(e.artistName))])],1)],1)}))],2)],1)},at=[],st={data:function(){return{curMvId:this.$route.params.id,mvDetailInfo:{data:{name:""}},mvUrl:"",queryInfo:{id:this.$route.params.id,limit:10,offset:0},mvCommentList:[],commentTotal:0,mvHotComment:[],simiMvList:[]}},created:function(){this.getMvDetailInfo(),this.getMvUrl(),this.getMvCommentList(),this.getSimiMvs()},methods:{toSearchPage:function(t){""!==t.trim()&&this.$router.push("/searchBySong/"+t)},getMvDetailInfo:function(){var t=this;this.$http.get("/mv/detail",{params:{mvid:this.curMvId}}).then((function(e){t.mvDetailInfo=e.data}))},getMvUrl:function(){var t=this;this.$http.get("mv/url",{params:{id:this.curMvId}}).then((function(e){t.mvUrl=e.data.data.url}))},getMvCommentList:function(){var t=this;this.$http.get("comment/mv",{params:this.queryInfo}).then((function(e){t.mvCommentList=e.data.comments,t.commentTotal=e.data.total,t.mvHotComment=e.data.hotComments}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getMvCommentList()},getSimiMvs:function(){var t=this;this.$http.get("simi/mv",{params:{mvid:this.curMvId}}).then((function(e){t.simiMvList=e.data.mvs}))},toMvPage:function(t){this.$router.push("/toVideoPage/"+t),document.location.reload()}}},ot=st,rt=Object(l["a"])(ot,nt,at,!1,null,"1aa7e3f8",null),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{"margin-bottom":"55px"}},[i("el-header",[i("p",[t._v(" 热门标签: "),t._l(t.hotMusicListTags,(function(e,n){return i("span",{class:"cat"+n,staticStyle:{"margin-left":"25px",cursor:"pointer"},attrs:{id:"cats"},on:{click:function(i){return t.changeMusicListCat(e.name,n)}}},[t._v(t._s(e.name))])}))],2)]),i("el-main",[i("el-row",{attrs:{gutter:10}},t._l(t.goodMusicList,(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative"},attrs:{span:4}},[i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white",width:"96%",position:"absolute","z-index":"10"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s(e.playCount>=1e4?(e.playCount/1e4).toFixed(0)+"万":e.playCount)+" ")])]),i("div",[i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.coverImgUrl},on:{click:function(i){return t.toSongListPage(e.id)}}})],1),i("h1",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toSongListPage(e.id)}}},[t._v(t._s(e.name))])])})),1),i("el-pagination",{staticStyle:{"margin-top":"50px","text-align":"center"},attrs:{layout:"prev, pager, next","page-size":t.queryInfo.limit,background:"","current-page":t.currentPage,total:t.goodMusicListTotal},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}})],1)],1)},ut=[],pt={data:function(){return{currentPage:1,queryInfo:{cat:"全部",limit:24,offset:0},hotMusicListTags:[],goodMusicList:[],goodMusicListTotal:0,prevClickCat:""}},created:function(){this.getHotMusicListTags(),this.getGoodMusicList()},methods:{getHotMusicListTags:function(){var t=this;this.$http.get("playlist/hot").then((function(e){t.hotMusicListTags=e.data.tags}))},getGoodMusicList:function(){var t=this;this.$http.get("/top/playlist",{params:this.queryInfo}).then((function(e){t.goodMusicList=e.data.playlists,t.goodMusicListTotal=e.data.total}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getGoodMusicList()},toSongListPage:function(t){this.$router.push("/songlist/"+t)},changeMusicListCat:function(t,e){1===this.currentPage&&this.prevClickCat==="cat"+e||(this.prevClickCat="cat"+e,this.queryInfo.cat=t,this.$(".cat"+e).css("color","red"),this.$(".cat"+e).siblings("span").css("color",""),0!=this.queryInfo.offset&&(this.currentPage=1,this.queryInfo.offset=0),this.getGoodMusicList())}}},dt=pt,gt=(i("5ff4"),Object(l["a"])(dt,ct,ut,!1,null,"f05fd890",null)),ht=gt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-bottom":"55px"}},[i("el-row",{staticStyle:{"border-bottom":"2px solid rgb(230,230,230)"}},[i("p",{staticStyle:{"margin-bottom":"10px","font-size":"22px"}},[t._v("官方榜")])]),t._l(4,(function(e,n){return i("el-row",{key:n,staticStyle:{"margin-top":"25px",display:"flex"}},[i("el-image",{staticStyle:{height:"200px",width:"200px","min-height":"200px","min-width":"200px","border-radius":"15px",cursor:"pointer"},attrs:{src:t.musicRankList[e-1].coverImgUrl},on:{click:function(i){return t.toSongListPage(t.musicRankList[e-1].id)}}}),i("i",{staticClass:"el-icon-video-play",staticStyle:{color:"rgba(255,255,255,1)","font-size":"45px",position:"absolute",top:"155px",left:"155px","z-index":"10"}}),i("el-table",{staticStyle:{"border-radius":"15px",margin:"30px 100px 0 50px","box-shadow":"0px 0px 10px 0px rgba(0,0,0,0.2)","min-width":"500px"},attrs:{data:t.musicRankList[e-1].tracks,stripe:"","max-height":"139px","show-header":!1}},[i("el-table-column",{attrs:{type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{color:"red","font-weight":"400"}},[t._v(t._s(e.$index+1))])]}}],null,!0)}),i("el-table-column",{attrs:{prop:"first"}}),i("el-table-column",{attrs:{prop:"second"}})],1)],1)})),i("el-row",{staticStyle:{"border-bottom":"2px solid rgb(230,230,230)"}},[i("p",{staticStyle:{"margin-bottom":"10px","font-size":"22px"}},[t._v("全球榜")])]),i("el-row",t._l(t.musicRankList.slice(4),(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative",width:"200px",height:"230px",padding:"0 10px"}},[i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white","border-radius":"10px 10px 0 0",width:"90%",position:"absolute","z-index":"10"}},[i("div",{staticStyle:{float:"right","padding-right":"5px"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s(e.playCount>=1e4?(e.playCount/1e4).toFixed(0)+"万":e.playCount)+" ")])]),i("div",[i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.coverImgUrl},on:{click:function(i){return t.toSongListPage(e.id)}}})],1),i("h1",{staticStyle:{cursor:"pointer","text-align":"center"},on:{click:function(i){return t.toSongListPage(e.id)}}},[t._v(t._s(e.name))])])})),1)],2)},mt=[],yt={data:function(){return{musicRankList:[{coverImgUrl:""},{coverImgUrl:""},{coverImgUrl:""},{coverImgUrl:""}],singerRankInfo:{coverUrl:"",artists:[]}}},created:function(){this.getOfficialRankList()},methods:{getOfficialRankList:function(){var t=this;this.$http.get("toplist/detail").then((function(e){t.musicRankList=e.data.list,t.singerRankInfo=e.data.artistToplist}))},toSongListPage:function(t){this.$router.push("/songlist/"+t)},playMusicList:function(t){this.$emit("setSongListInfo",window.localStorage.getItem("playlist"),t.id)}}},vt=yt,xt=Object(l["a"])(vt,ft,mt,!1,null,"51be98fe",null),bt=xt.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{"margin-bottom":"55px"}},[i("el-header",{staticStyle:{height:"80px"}},[i("p",[t._v(" 语种: "),t._l(t.singerLanguage,(function(e,n){return i("span",{class:0===n?"isActive":"area"+e.id,staticStyle:{"margin-left":"25px",cursor:"pointer"},attrs:{id:"areas"},on:{click:function(i){return t.changeMusicListTypes(e.id)}}},[t._v(t._s(e.name))])}))],2),i("p",[t._v(" 分类: "),t._l(t.singerType,(function(e,n){return i("span",{class:0===n?"isActiveByTypes":"type"+e.id,staticStyle:{"margin-left":"25px",cursor:"pointer"},attrs:{id:"types"},on:{click:function(i){return t.changeMusicListSex(e.id)}}},[t._v(t._s(e.name))])}))],2)]),i("el-main",[i("el-row",t._l(t.singerList,(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative",width:"200px",height:"230px",padding:"0 10px"}},[i("div",[i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.img1v1Url},on:{click:function(i){return t.toSingerDetailPage(e.id)}}},[i("template",{slot:"placeholder"},[i("img",{attrs:{src:"imgs/loading.png"}})])],2)],1),i("h1",{staticStyle:{cursor:"pointer","text-align":"center"},on:{click:function(i){return t.toSingerDetailPage(e.id)}}},[t._v(t._s(e.name))])])})),1),i("el-pagination",{attrs:{background:"",layout:"prev,next","page-size":t.queryInfo.limit},on:{"current-change":t.handleCurrentChange}})],1)],1)},_t=[],wt={data:function(){return{queryInfo:{type:-1,area:-1,limit:12,offset:0},singerType:[{id:-1,name:"全部"},{id:1,name:"男歌手"},{id:2,name:"女歌手"},{id:3,name:"乐队"}],singerLanguage:[{id:-1,name:"全部"},{id:7,name:"华语"},{id:96,name:"欧美"},{id:8,name:"日本"},{id:16,name:"韩国"},{id:0,name:"其他"}],singerList:[],prevClickArea:"area-1",prevClickType:"type-1"}},created:function(){this.getSingerList()},methods:{getSingerList:function(){var t=this;this.$http.get("artist/list",{params:this.queryInfo}).then((function(e){t.singerList=e.data.artists}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getSingerList()},changeMusicListTypes:function(t){this.$(".isActive").eq(0).attr("class",this.prevClickArea),this.$(".area"+t).eq(0).attr("class","isActive"),this.prevClickArea="area"+t,this.queryInfo.area=t,this.getSingerList()},changeMusicListSex:function(t){this.$(".isActiveByTypes").eq(0).attr("class",this.prevClickType),this.$(".type"+t).eq(0).attr("class","isActiveByTypes"),this.prevClickType="type"+t,this.queryInfo.type=t,this.getSingerList()},toSingerDetailPage:function(t){this.$router.push("/singer/"+t)}}},It=wt,Lt=(i("f223"),Object(l["a"])(It,St,_t,!1,null,"cb98e0b8",null)),kt=Lt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-header",{attrs:{height:"320px;"}},[i("el-row",{attrs:{span:8}},[i("el-image",{staticStyle:{width:"300px",height:"300px"},attrs:{src:t.singerInfo.artist.img1v1Url}}),i("el-tag",{staticStyle:{position:"absolute",left:"330px",border:"1px solid rgb(198,47,47)","background-color":"rgb(198,47,47)",color:"white"},attrs:{type:"danger"}},[t._v(" 歌手 ")]),i("span",{staticStyle:{position:"absolute",left:"390px",top:"2px","font-size":"20px"}},[t._v(t._s(t.singerInfo.artist.name))]),i("i",{staticClass:"el-icon-headset",staticStyle:{position:"absolute","font-size":"15px",top:"80px",left:"330px"}},[t._v(" 单曲数: "+t._s(t.singerInfo.artist.musicSize)+" ")]),i("i",{staticClass:"el-icon-first-aid-kit",staticStyle:{position:"absolute","font-size":"15px",top:"120px",left:"330px"}},[t._v(" 专辑数: "+t._s(t.singerInfo.artist.albumSize)+" ")]),i("i",{staticClass:"el-icon-video-play",staticStyle:{position:"absolute","font-size":"15px",top:"160px",left:"330px"}},[t._v(" MV数: "+t._s(t.singerInfo.artist.mvSize)+" ")])],1)],1),i("el-main",[i("el-menu",{attrs:{"default-active":"/album/"+this.singerId,router:!0,mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"/album/"+this.singerId}},[t._v("专辑")]),i("el-menu-item",{attrs:{index:"/singerMv/"+this.singerId}},[t._v("MV")]),i("el-menu-item",{attrs:{index:"/singerDesc/"+this.singerId}},[t._v("歌手详情")])],1),i("router-view",{on:{setSongListInfo:t.setSongListInfo}})],1)],1)},$t=[],Mt={data:function(){return{singerId:this.$route.params.id,singerInfo:{artist:{img1v1Url:""}}}},created:function(){this.getSingerInfo()},methods:{getSingerInfo:function(){var t=this;this.$http.get("artists",{params:{id:this.singerId}}).then((function(e){t.singerInfo=e.data}))},setSongListInfo:function(t,e){this.$emit("setSongListInfo",t,e)}}},Pt=Mt,zt=(i("b784"),Object(l["a"])(Pt,Ct,$t,!1,null,"ec65dd44",null)),Ut=zt.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"50px","margin-bottom":"75px"}},[i("el-row",[i("el-col",{attrs:{span:4,offset:2}},[i("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:"imgs/top50.png"}})],1),i("el-col",{attrs:{span:8}},[t._v(" 热门50曲 "),i("el-table",{staticStyle:{"margin-top":"15px",cursor:"context-menu",border:"1px solid rgb(230,230,230)"},attrs:{data:t.hot50Songs.slice(0,t.defaultShow),"highlight-current-row":"",stripe:"","show-header":!1},on:{"row-dblclick":t.playHot50Music}},[i("el-table-column",{attrs:{label:"#",type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("img",{attrs:{src:"imgs/isPlay.png",alt:""}}):i("p",[t._v(t._s(e.$index+1>=10?e.$index+1:("0"+(e.$index+1)).toString()))])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"70px;"}},[[i("i",{staticClass:"el-icon-star-off",staticStyle:{"font-size":"18px",cursor:"pointer"}}),i("i",{staticClass:"el-icon-download",staticStyle:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}})]],2),t._e(),i("el-table-column",{attrs:{label:"音乐标题",prop:"name"}}),i("el-table-column",{attrs:{label:"时长",prop:"dt",width:"80px;"}})],1),i("p",{staticClass:"show",staticStyle:{"margin-top":"15px",cursor:"pointer"},on:{click:t.changeDefaultNum}},[t._v("查看全部50首>")])],1)],1),t._l(t.albumMusicInfo,(function(e){return i("el-row",{staticStyle:{"margin-top":"45px"}},[i("el-col",{attrs:{span:4,offset:2}},[i("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.album.picUrl}}),i("span",{staticStyle:{position:"absolute",left:"140px",top:"150px"}},[t._v(t._s(t._f("dateFormatToYMD")(e.album.publishTime)))])],1),i("el-col",{attrs:{span:8}},[t._v(" "+t._s(e.album.name)+" "),i("el-table",{staticStyle:{"margin-top":"15px",cursor:"context-menu",border:"1px solid rgb(230,230,230)"},attrs:{data:e.songs,"highlight-current-row":"",stripe:"","show-header":!1},on:{"row-dblclick":t.playAlbumMusic}},[i("el-table-column",{attrs:{type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("img",{attrs:{src:"imgs/isPlay.png",alt:""}}):i("p",[t._v(t._s(e.$index+1>=10?e.$index+1:("0"+(e.$index+1)).toString()))])]}}],null,!0)}),i("el-table-column",{attrs:{width:"70px;"}},[[i("i",{staticClass:"el-icon-star-off",staticStyle:{"font-size":"18px",cursor:"pointer"}}),i("i",{staticClass:"el-icon-download",staticStyle:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}})]],2),t._e(),i("el-table-column",{attrs:{prop:"name"}}),i("el-table-column",{attrs:{prop:"dt",width:"80px;"}})],1)],1)],1)})),i("el-pagination",{attrs:{background:"",layout:"prev,next","page-size":t.queryInfo.limit},on:{"current-change":t.handleCurrentChange}})],2)},Dt=[],Tt={data:function(){return{queryInfo:{id:this.$route.params.id,limit:4,offset:0},singerId:this.$route.params.id,hot50Songs:[],defaultShow:10,curId:parseInt(window.localStorage.getItem("curPlayMusicId")),hotAlbum:[],albumMusicInfo:[]}},created:function(){var t=this;this.getHot50Music(),this.getHotAlbum(),window.addEventListener("setItem",(function(){t.curId=parseInt(localStorage.getItem("curPlayMusicId"))}))},methods:{getHot50Music:function(){var t=this;this.$http.get("artist/top/song",{params:{id:this.singerId}}).then((function(e){t.hot50Songs=e.data.songs,t.hot50Songs.forEach((function(t){var e=new Date(t.dt),i=(e.getMinutes()+"").padStart(2,"0"),n=(e.getSeconds()+"").padStart(2,"0");t.dt=i+":"+n}))}))},changeDefaultNum:function(){this.$(".show").remove(),this.defaultShow=50},getHotAlbum:function(){var t=this;this.$http.get("artist/album",{params:this.queryInfo}).then((function(e){t.hotAlbum=e.data.hotAlbums,t.hotAlbum.forEach((function(e){t.$http.get("album",{params:{id:e.id}}).then((function(e){e.data.songs.forEach((function(t){var e=new Date(t.dt),i=(e.getMinutes()+"").padStart(2,"0"),n=(e.getSeconds()+"").padStart(2,"0");t.dt=i+":"+n})),t.albumMusicInfo.push(e.data)}))})),t.hotAlbum.forEach((function(t){var e=new Date(t.dt),i=(e.getMinutes()+"").padStart(2,"0"),n=(e.getSeconds()+"").padStart(2,"0");t.dt=i+":"+n}))}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getHotAlbum()},playHot50Music:function(t){var e=[];this.hot50Songs.forEach((function(t){e.push(t.id)})),this.$emit("setSongListInfo",e,t.id)},playAlbumMusic:function(t){this.$emit("setSongListInfo",window.localStorage.getItem("playList"),t.id)}}},Rt=Tt,Ot=Object(l["a"])(Rt,qt,Dt,!1,null,"5b27737e",null),Vt=Ot.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"25px","margin-bottom":"55px"}},[i("el-row",t._l(t.singerMvList,(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative"},attrs:{span:6,offset:2}},[i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white",width:"99%",position:"absolute","z-index":"10"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s(e.playCount>=1e4?(e.playCount/1e4).toFixed(0)+"万":e.playCount)+" ")])]),i("div",[i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.imgurl},on:{click:function(i){return t.toMvPage(e.id)}}})],1),i("h1",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toMvPage(e.id)}}},[t._v(t._s(e.name))])])})),1),i("el-pagination",{attrs:{background:"","page-size":t.queryInfo.limit,layout:"prev, next"},on:{"current-change":t.handleCurrentChange}})],1)},jt=[],At={data:function(){return{singerId:this.$route.params.id,queryInfo:{id:this.$route.params.id,limit:9,offset:0},singerMvList:[]}},created:function(){this.getCurrentSingerMv()},methods:{getCurrentSingerMv:function(){var t=this;this.$http.get("artist/mv",{params:this.queryInfo}).then((function(e){t.singerMvList=e.data.mvs}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getCurrentSingerMv()},toMvPage:function(t){this.$router.push("/toVideoPage/"+t)}}},Ft=At,Nt=Object(l["a"])(Ft,Et,jt,!1,null,"f85b1dd6",null),Ht=Nt.exports,Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.singerDesc,(function(e){return i("div",[i("h4",[t._v(t._s(e.ti))]),i("span",{domProps:{innerHTML:t._s(e.txt)}})])})),0)},Jt=[],Qt={data:function(){return{singerId:this.$route.params.id,singerDesc:[]}},created:function(){this.getSingerDesc()},methods:{getSingerDesc:function(){var t=this;this.$http.get("artist/desc",{params:{id:this.singerId}}).then((function(e){t.singerDesc=e.data.introduction,t.singerDesc.forEach((function(t){t.txt=t.txt.replace(/▪/g,"<br/>▪")}))}))}}},Yt=Qt,Gt=Object(l["a"])(Yt,Bt,Jt,!1,null,"d3eb1d42",null),Wt=Gt.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{staticStyle:{"margin-top":"25px"}},[i("p",[t._v(" 语种: "),t._l(t.musicType,(function(e,n){return i("span",{class:0===n?"isActive":"types"+e.type,staticStyle:{"margin-left":"25px",cursor:"pointer"},attrs:{id:"types"},on:{click:function(i){return t.changeType(e.type)}}},[t._v(t._s(e.name))])}))],2),i("el-col",{attrs:{span:20,offset:2}},[i("el-table",{directives:[{name:"show",rawName:"v-show",value:t.isReturn,expression:"isReturn"}],attrs:{data:t.newMusicInfo,stripe:"","show-header":!1}},[i("el-table-column",{attrs:{type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1>=10?e.$index+1:"0"+(e.$index+1).toString())+" ")]}}])}),i("el-table-column",{attrs:{label:"#",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-video-play",staticStyle:{position:"absolute","font-size":"25px",top:"35px",left:"35px","z-index":"8",cursor:"pointer"},on:{click:function(i){return t.changeNewUrl(e.row.id)}}}),i("el-image",{staticStyle:{width:"75px",height:"75px",cursor:"pointer"},attrs:{src:e.row.album.picUrl},on:{click:function(i){return t.changeNewUrl(e.row.id)}}},[i("template",{slot:"placeholder"},[i("p",[t._v("加载中")])])],2)]}}])}),i("el-table-column",{attrs:{label:"歌名",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"font-size":"15px","font-weight":"500",width:"200px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{title:0===e.row.alias.length?e.row.name:e.row.name+"("+e.row.alias[0]+")"}},[t._v(" "+t._s(0===e.row.alias.length?e.row.name:e.row.name+"("+e.row.alias[0]+")")+" ")])]}}])}),i("el-table-column",{attrs:{label:"歌手",width:"130px;"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.artists,(function(n,a){return i("span",{staticStyle:{cursor:"pointer"}},[t._v(" "+t._s(0===a&&e.row.artists.length>1&&a!==e.row.artists.length-1?n.name+"/":n.name)+" ")])}))}}])}),i("el-table-column",{attrs:{label:"专辑",prop:"album.name"}}),i("el-table-column",{attrs:{label:"时长",prop:"duration",width:"80px;"}})],1),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.isReturn,expression:"!isReturn"}]},[t._v("加载中...")])],1)],1)},Xt=[],Zt={data:function(){return{isReturn:!1,queryInfo:{type:0},musicType:[{type:0,name:"全部"},{type:7,name:"华语"},{type:96,name:"欧美"},{type:16,name:"韩国"},{type:8,name:"日本"}],newMusicInfo:[{id:0,album:{picUrl:""},alias:[],artists:[]}],prevType:"types0"}},created:function(){this.getNewMusic()},methods:{getNewMusic:function(){var t=this;this.$http.get("top/song",{params:this.queryInfo}).then((function(e){t.newMusicInfo=e.data.data,t.newMusicInfo.forEach((function(t){var e=new Date(t.duration),i=(e.getMinutes()+"").padStart(2,"0"),n=(e.getSeconds()+"").padStart(2,"0");t.duration=i+":"+n})),t.isReturn=!0}))},changeType:function(t){this.$(".isActive").eq(0).attr("class",this.prevType),this.$(".types"+t).eq(0).attr("class","isActive"),this.queryInfo.type=t,this.prevType="types"+t,this.getNewMusic()},changeNewUrl:function(t){var e=[];this.newMusicInfo.forEach((function(t){e.push(t.id)})),this.$emit("setSongListInfo",e,t)}}},te=Zt,ee=(i("0889"),Object(l["a"])(te,Kt,Xt,!1,null,"ac418b9c",null)),ie=ee.exports,ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-row",{staticClass:"topInfo",staticStyle:{position:"relative",height:"800px"}},[i("el-col",{attrs:{span:6}},[i("img",{staticStyle:{opacity:"0.3","border-radius":"25px",position:"absolute",left:"5%",width:"90%",height:"800px","z-index":"-1"},attrs:{src:t.music.al.picUrl,alt:""}}),i("img",{staticClass:"musicPoster",attrs:{src:t.music.al.picUrl,alt:""}})]),i("el-col",{staticStyle:{position:"absolute",left:"50%",top:"10%"},attrs:{span:12}},[i("h1",{staticStyle:{"font-size":"25px","font-weight":"400"}},[t._v(t._s(t.music.name))]),i("span",[t._v("专辑: "+t._s(t.music.al.name))]),i("span",{staticStyle:{"margin-left":"15px"}},[t._v(" 歌手: "),i("span",{staticStyle:{color:"#4d99de",cursor:"pointer"},on:{click:function(e){return t.toSingerPage(t.music.ar[0].id)}}},[t._v(t._s(t.music.ar[0].name))])]),i("div",{staticStyle:{width:"350px",height:"350px",overflow:"hidden","margin-top":"25px"}},[i("div",{staticStyle:{"overflow-y":"auto"}},[i("ul",{ref:"lyric"},t._l(t.lrcObject,(function(e,n){return i("li",{style:{color:t.lyricIndex===n?"red":"black"}},[t._v(" "+t._s(e.c)+" ")])})),0)])])])],1),i("el-main",{staticStyle:{"margin-top":"25px","margin-bottom":"75px"}},[i("el-row",[i("el-col",{attrs:{offset:4,span:15}},[0!==t.hotCommentList.length?i("h4",{staticStyle:{"font-weight":"300"}},[t._v("精彩评论")]):t._e(),t._l(t.hotCommentList,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content)+" ")])})),0):t._e(),i("p",{staticStyle:{display:"inline","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))]),i("p",{staticStyle:{display:"inline","margin-left":"650px"}},[i("ion-icon",{staticStyle:{color:"skyblue"},attrs:{name:"thumbs-up-outline"}}),t._v(" "+t._s(e.likedCount))],1)])])])})),i("h4",{staticStyle:{"font-weight":"300","margin-top":"25px"}},[t._v("最新评论("+t._s(t.total)+")")]),t._l(t.commentList,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v("@"+t._s(e.user.nickname))]),t._v(": "+t._s(e.content)+" ")])})),0):t._e(),i("p",{staticStyle:{display:"inline","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))]),i("p",{staticStyle:{display:"inline","margin-left":"650px"}},[i("ion-icon",{staticStyle:{color:"skyblue"},attrs:{name:"thumbs-up-outline"}}),t._v(" "+t._s(e.likedCount))],1)])])])})),i("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.queryInfo.limit,total:t.total},on:{"current-change":t.handleCurrentChange}})],2)],1)],1)],1)},ae=[],se=(i("466d"),{data:function(){return{curId:this.$route.params.id,music:{name:name,al:{picUrl:""},ar:[{name:""}]},lrc:"",lrcObject:[],duration:"",lyricIndex:0,rotate:null,deg:0,play:this.isPlay,queryInfo:{id:this.$route.params.id,limit:10,offset:0},commentList:[],hotCommentList:[],total:0}},props:["musicDuration","isPlay"],watch:{musicDuration:function(t){this.duration=t;for(var e=0;e<this.lrcObject.length;e++)if(t<=parseFloat(this.lrcObject[e].t)){if(this.lyricIndex===e-1)break;this.lyricIndex=e-1;var i=this.$refs.lyric.style.marginTop;i=i.substr(0,i.length-2),i=parseInt(i),e>5&&(i=-35*(e-5),this.$refs.lyric.style.marginTop=i+"px"),this.lyricIndex===this.lrcObject.length-1&&(this.lyricIndex=0);break}},curId:function(t){this.curId=t},isPlay:function(t){var e=this;t?this.rotate=window.setInterval((function(){e.$(".musicPoster").eq(0).css("transform","rotate("+e.deg+"deg)"),e.deg+=1}),30):window.clearInterval(this.rotate)}},created:function(){var t=this;this.getMusicDetail(this.$route.params.id),this.getMusicLrc(),window.addEventListener("setItem",(function(){t.curId=parseInt(localStorage.getItem("curPlayMusicId")),t.getMusicDetail(t.curId),t.getMusicLrc()})),this.getMusicComment()},mounted:function(){var t=this;this.$refs.lyric.style.marginTop="-10px",this.play&&(this.rotate=window.setInterval((function(){t.$(".musicPoster").eq(0).css("transform","rotate("+t.deg+"deg)"),t.deg+=1}),30))},beforeRouteLeave:function(t,e,i){window.clearInterval(this.rotate),this.rotate=null,i()},methods:{getMusicDetail:function(t){var e=this;this.$http.get("song/detail",{params:{ids:t}}).then((function(t){e.music=t.data.songs[0]}))},getMusicLrc:function(){var t=this;this.$http.get("lyric",{params:{id:this.curId}}).then((function(e){t.lrc=e.data.lrc.lyric,t.createLrcObj(t.lrc)}))},createLrcObj:function(t){var e={ms:[]};if(0!=t.length){var i=t.split("\n");for(var n in i){i[n]=i[n].replace(/(^\s*)|(\s*$)/g,"");var a=i[n].substring(i[n].indexOf("[")+1,i[n].indexOf("]")),s=a.split(":");if(isNaN(parseInt(s[0])))for(var n in e)"ms"!=n&&n==s[0].toLowerCase()&&(e[n]=s[1]);else{var o=i[n].match(/\[(\d+:.+?)\]/g),r=0;for(var l in o)r+=o[l].length;var c=i[n].substring(r);for(var l in o){a=o[l].substring(1,o[l].length-1),s=a.split(":");e.ms.push({t:(60*parseFloat(s[0])+parseFloat(s[1])).toFixed(3),c:""===c?"..............":c})}}}e.ms.sort((function(t,e){return t.t-e.t})),this.lrcObject=e.ms}},toSingerPage:function(t){this.$router.push("/singer/"+t)},getMusicComment:function(){var t=this;this.$http.get("comment/music",{params:this.queryInfo}).then((function(e){if(200!==e.data.code)return t.$message.error("获取评论数据失败!");console.log(e.data.hotComments),t.commentList=e.data.comments,t.hotCommentList=e.data.hotComments,t.total=e.data.total}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getMusicComment()}}}),oe=se,re=(i("7234"),Object(l["a"])(oe,ne,ae,!1,null,"51b2a816",null)),le=re.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-header",{staticStyle:{"border-bottom":"1px solid rgb(230,230,230)"},attrs:{height:"150px;"}},[i("el-menu",{staticStyle:{margin:"0 auto",width:"320px"},attrs:{"default-active":"/videoPage",router:!0,mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"/videoPage"}},[t._v("视频")]),i("el-menu-item",{attrs:{index:"/mvPage"}},[t._v("MV")])],1)],1),i("el-main",[i("router-view")],1)],1)},ue=[],pe={name:"Video"},de=pe,ge=(i("b7c3"),Object(l["a"])(de,ce,ue,!1,null,"88bd612e",null)),he=ge.exports,fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{"margin-bottom":"55px"}},[i("el-header",[i("el-button",{on:{click:t.showTagDialog}},[t._v("全部分类")]),i("el-dialog",{staticStyle:{position:"absolute",top:"70px",left:"-280px"},attrs:{title:"全部标签",visible:t.tagDialogTableVisible,modal:!1},on:{"update:visible":function(e){t.tagDialogTableVisible=e}}},t._l(t.tags,(function(e){return i("el-tag",{staticClass:"tag",style:e.id===t.queryInfo.id?"color: red":"blue",on:{click:function(i){return t.changeTag(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),i("el-main",[i("el-row",{attrs:{gutter:10}},t._l(t.videoList,(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative"},attrs:{span:4}},[i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white",width:"96%",position:"absolute","z-index":"10"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s(e.data.playTime>=1e4?(e.data.playTime/1e4).toFixed(0)+"万":e.data.playTime)+" ")])]),i("div",[i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.data.coverUrl},on:{click:function(i){return t.toVideoPage(e.data.vid)}}})],1),i("h1",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toVideoPage(e.data.vid)}}},[t._v(t._s(e.data.title))])])})),1),i("el-pagination",{attrs:{layout:"prev, next"},on:{"current-change":t.handleCurrentChange}})],1)],1)},me=[],ye={data:function(){return{tags:[],tagDialogTableVisible:!1,queryInfo:{id:58100,offset:0},videoList:[{data:{title:""}}]}},created:function(){this.getVideoTags(),this.getVideoList()},methods:{getVideoTags:function(){var t=this;this.$http.get("video/group/list").then((function(e){t.tags=e.data.data}))},showTagDialog:function(){this.tagDialogTableVisible=!0},getVideoList:function(){var t=this;if("null"===window.localStorage.getItem("currentUserInfo"))return this.$message.error("需要登录获取视频数据!");this.$http.get("video/group",{params:this.queryInfo}).then((function(e){t.videoList=e.data.datas}))},toVideoPage:function(t){this.$router.push("videoPlay/"+t)},handleCurrentChange:function(t){this.queryInfo.offset+=8,this.getVideoList()},changeTag:function(t){this.queryInfo.id=t,this.getVideoList(),this.tagDialogTableVisible=!1}}},ve=ye,xe=(i("4176"),Object(l["a"])(ve,fe,me,!1,null,"242ad2a2",null)),be=xe.exports,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{staticStyle:{"margin-bottom":"75px"}},[i("el-col",{attrs:{span:14,offset:2}},[i("el-row",[i("el-tag",{staticStyle:{"background-color":"white",border:"1px solid red"},attrs:{size:"mini",type:"danger"}},[t._v("视频")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.videoDetailInfo.data.title))]),i("span",{staticStyle:{"margin-left":"10px","font-size":"5px"}},[t._v(t._s(t.videoDetailInfo.data.creator.nickname))])],1),i("el-row",{staticStyle:{"margin-top":"5px"}},[i("video",{staticStyle:{"background-color":"black"},attrs:{width:"100%",height:"480",autoplay:"",src:t.videoUrl,controls:"controls"}},[t._v(" 很抱歉,您的浏览器当前不支持最新播放标签! ")])]),i("el-row",[i("p",{staticStyle:{"margin-top":"15px","font-size":"18px"}},[t._v("评论("+t._s(t.commentTotal)+")")]),0===t.queryInfo.offset&&0!==t.videoHotComment.length?i("h4",{staticStyle:{"font-weight":"300"}},[t._v("精彩评论")]):t._e(),t._l(t.videoHotComment,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v("@"+t._s(e.user.nickname))]),t._v(": "+t._s(e.content))])})),0):t._e(),i("p",{staticStyle:{display:"block","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))])])])])})),i("h4",{staticStyle:{"font-weight":"300","margin-top":"25px"}},[t._v("最新评论("+t._s(t.commentTotal)+")")]),t._l(t.videoCommentList,(function(e){return i("div",{staticStyle:{position:"relative","border-top":"2px solid rgb(240,240,242)","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[i("div",[i("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),i("div",{staticStyle:{"margin-left":"60px","margin-top":"-60px"}},[i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?i("br"):t._e(),e.beReplied.length>0?i("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,(function(e){return i("p",[i("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))])})),0):t._e(),i("p",{staticStyle:{display:"block","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))])])])])})),i("el-pagination",{attrs:{background:"","page-size":t.queryInfo.limit,layout:"prev, pager, next",total:t.commentTotal},on:{"current-change":t.handleCurrentChange}})],2)],1),i("el-col",{staticStyle:{position:"absolute"},attrs:{span:7,offset:1}},[i("el-row",{staticStyle:{"border-bottom":"1px solid rgb(230,230,230)","padding-bottom":"10px"}},[i("span",{staticStyle:{"margin-left":"10px","font-size":"20px","font-weight":"400"}},[t._v("视频介绍")])]),i("el-row",{staticStyle:{"margin-top":"10px","margin-left":"12px"}},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("发布时间: "),i("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t._f("dateFormat")(t.videoDetailInfo.data.publishTime)))])]),i("span",{staticStyle:{"font-size":"14px","margin-left":"15px",float:"right"}},[t._v("播放次数: "),i("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s((t.videoDetailInfo.data.playTime/1e4).toFixed(0)+"万次"))])])]),i("el-row",{staticStyle:{"margin-top":"10px","margin-left":"12px"}},[i("p",{staticStyle:{"font-size":"14px","font-weight":"400"}},[t._v("简介: "+t._s(t.videoDetailInfo.data.description))])]),i("el-row",{staticStyle:{"margin-top":"45px","border-bottom":"1px solid rgb(230,230,230)","padding-bottom":"10px"}},[i("span",{staticStyle:{"margin-left":"10px","font-size":"20px","font-weight":"400"}},[t._v("相关推荐")])]),t._l(t.simiVideoList,(function(e){return i("el-row",{staticStyle:{"margin-top":"25px"}},[i("el-col",{attrs:{span:12}},[i("el-image",{staticStyle:{width:"250px",height:"150px",cursor:"pointer"},attrs:{src:e.coverUrl},on:{click:function(i){return t.toVideoPage(e.vid)}}}),i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white",width:"100px",position:"absolute","z-index":"10",top:"2px",left:"150px"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s((e.playTime/1e4).toFixed(0))+"万 ")])])],1),i("el-col",{attrs:{span:10,offset:1}},[i("el-tag",{staticStyle:{"background-color":"white",border:"1px solid red"},attrs:{size:"mini",type:"danger"}},[t._v("视频")]),i("span",{staticStyle:{"margin-left":"10px",cursor:"pointer"},on:{click:function(i){return t.toVideoPage(e.vid)}}},[t._v(t._s(e.title))]),i("p",{staticStyle:{"font-size":"15px",opacity:"0.7"}},[t._v(t._s(t._f("timeFormat")(e.durationms/1e3)))]),i("p",{staticStyle:{"font-size":"15px",opacity:"0.7"}},[t._v(t._s(e.creator[0].userName))])],1)],1)}))],2)],1)},_e=[],we={data:function(){return{curVideoId:this.$route.params.id,videoDetailInfo:{data:{title:"",creator:{nickname:""}}},videoUrl:"",queryInfo:{id:this.$route.params.id,offset:0,limit:10},videoCommentList:[],commentTotal:0,videoHotComment:[],simiVideoList:[{title:"",creator:[{userName:""}]}]}},created:function(){this.getVideoDetailInfo(),this.getVideoUrl(),this.getCommentList(),this.getSimiVideos()},methods:{getVideoDetailInfo:function(){var t=this;this.$http.get("/video/detail",{params:{id:this.curVideoId}}).then((function(e){t.videoDetailInfo=e.data}))},getVideoUrl:function(){var t=this;this.$http.get("video/url",{params:{id:this.curVideoId}}).then((function(e){t.videoUrl=e.data.urls[0].url}))},getCommentList:function(){var t=this;this.$http.get("/comment/video",{params:this.queryInfo}).then((function(e){t.videoCommentList=e.data.comments,t.commentTotal=e.data.total,t.videoHotComment=e.data.hotComments}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getCommentList()},getSimiVideos:function(){var t=this;this.$http.get("/related/allvideo",{params:{id:this.curVideoId}}).then((function(e){t.simiVideoList=e.data.data}))},toVideoPage:function(t){this.$router.push("/videoPlay/"+t),document.location.reload()}}},Ie=we,Le=(i("3770"),Object(l["a"])(Ie,Se,_e,!1,null,"3d8ee673",null)),ke=Le.exports,Ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{"margin-bottom":"55px"}},[i("el-header",{staticStyle:{height:"80px"}},[i("p",[t._v(" 地区: "),t._l(t.areas,(function(e,n){return i("span",{class:0===n?"isActive":"area"+e.id,staticStyle:{"margin-left":"25px",cursor:"pointer"},attrs:{id:"areas"},on:{click:function(i){return t.changeAreas(e.id,e.name)}}},[t._v(t._s(e.name))])}))],2),i("p",[t._v(" 分类: "),t._l(t.types,(function(e,n){return i("span",{class:0===n?"isActiveByTypes":"type"+e.id,staticStyle:{"margin-left":"25px",cursor:"pointer"},attrs:{id:"types"},on:{click:function(i){return t.changeTypes(e.id,e.name)}}},[t._v(t._s(e.name))])}))],2),i("p",[t._v(" 排序: "),t._l(t.order,(function(e,n){return i("span",{class:0===n?"isActiveByOrder":"order"+e.id,staticStyle:{"margin-left":"25px",cursor:"pointer"},attrs:{id:"order"},on:{click:function(i){return t.changeOrder(e.id,e.name)}}},[t._v(t._s(e.name))])}))],2)]),i("el-main",{staticStyle:{"margin-top":"25px"}},[i("el-row",{attrs:{gutter:10}},t._l(t.mvList,(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative"},attrs:{span:4}},[i("div",[i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.cover},on:{click:function(i){return t.toMvPage(e.id)}}})],1),i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white",width:"96%",position:"absolute",top:"0","z-index":"10"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s(e.playCount>=1e4?(e.playCount/1e4).toFixed(0)+"万":e.playCount)+" ")])]),i("h1",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toMvPage(e.id)}}},[t._v(t._s(e.name))])])})),1),i("el-pagination",{attrs:{background:"",layout:"prev,next","page-size":t.queryInfo.limit},on:{"current-change":t.handleCurrentChange}})],1)],1)},$e=[],Me={data:function(){return{queryInfo:{type:"全部",area:"全部",order:"上升最快",limit:12,offset:0},types:[{id:-1,name:"全部"},{id:1,name:"官方版"},{id:2,name:"原生"},{id:3,name:"现场版"},{id:4,name:"网易出品"}],areas:[{id:-1,name:"全部"},{id:7,name:"内地"},{id:96,name:"港台"},{id:8,name:"欧美"},{id:16,name:"日本"},{id:0,name:"韩国"}],order:[{id:1,name:"上升最快"},{id:2,name:"最热"},{id:3,name:"最新"}],mvList:[],prevClickArea:"area-1",prevClickType:"type-1",prevClickOrder:"order1"}},created:function(){this.getMvList()},methods:{getMvList:function(){var t=this;this.$http.get("/mv/all",{params:this.queryInfo}).then((function(e){t.mvList=e.data.data}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getMvList()},changeAreas:function(t,e){this.$(".isActive").eq(0).attr("class",this.prevClickArea),this.$(".area"+t).eq(0).attr("class","isActive"),this.prevClickArea="area"+t,this.queryInfo.area=e,this.getMvList()},changeTypes:function(t,e){this.$(".isActiveByTypes").eq(0).attr("class",this.prevClickType),this.$(".type"+t).eq(0).attr("class","isActiveByTypes"),this.prevClickType="type"+t,this.queryInfo.type=e,this.getMvList()},changeOrder:function(t,e){this.$(".isActiveByOrder").eq(0).attr("class",this.prevClickOrder),this.$(".order"+t).eq(0).attr("class","isActiveByOrder"),this.prevClickOrder="order"+t,this.queryInfo.order=e,this.getMvList()},toMvPage:function(t){this.$router.push("/toVideoPage/"+t)}}},Pe=Me,ze=(i("39b5"),Object(l["a"])(Pe,Ce,$e,!1,null,"67d5b674",null)),Ue=ze.exports,qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{display:"flex","flex-direction":"column",width:"600px"}},[i("span",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v("我的音乐云盘")]),i("span",{staticStyle:{display:"flex","flex-direction":"row","font-size":"15px",margin:"20px 0 20px 0"}},[t._v(" 云盘容量 "),i("el-progress",{staticStyle:{width:"150px",margin:"5px 5px 0 5px"},attrs:{percentage:t.size/t.maxSize*100,"stroke-width":10,color:"blue","show-text":!1}}),t._v(" "+t._s(t.size)+"/"+t._s(t.maxSize)+" "),i("p",{staticStyle:{margin:"0",padding:"0 0 0 60px"}},[t._v("歌曲永久保存，随时随地多端畅听")])],1)]),i("el-table",{ref:"playTable",staticStyle:{cursor:"context-menu",width:"90%","margin-left":"50px","margin-bottom":"50px"},attrs:{data:t.currentMusicListInfo,"highlight-current-row":"",border:"",stripe:""},on:{"row-dblclick":t.playMusicList,"cell-click":t.toSingerPage}},[i("el-table-column",{attrs:{label:"",type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.$index+1))])]}}])}),t._e(),i("el-table-column",{attrs:{label:"音乐标题",prop:"songName"}}),i("el-table-column",{attrs:{label:"歌手",prop:"simpleSong.ar[0].name",width:"100px;"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.simpleSong.ar[0].name?e.row.simpleSong.ar[0].name:"未知歌手"))])]}}])}),i("el-table-column",{attrs:{label:"专辑",prop:"album"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.album?e.row.album:"未知专辑"))])]}}])}),i("el-table-column",{attrs:{label:"格式",prop:"fileName"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.fileName.split(".")[1]))])]}}])}),i("el-table-column",{attrs:{label:"大小",prop:"fileSize"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s((e.row.fileSize/1024/1024).toFixed(1))+"MB")])]}}])}),i("el-table-column",{attrs:{label:"上传时间",prop:"addTime",width:"100px;"}})],1)],1)},De=[],Te={data:function(){return{size:1,maxSize:1,currentMusicListInfo:[],curId:parseInt(window.localStorage.getItem("curPlayMusicId")),songListInfo:[]}},created:function(){var t=this;this.getCloudData(),window.addEventListener("setItem",(function(){t.curId=parseInt(localStorage.getItem("curPlayMusicId"))}))},methods:{getCloudData:function(){var t=this;this.$http.get("/user/cloud",{params:{limit:1e3}}).then((function(e){t.size=(e.data.size/1024/1024/1024).toFixed(1),t.maxSize=(e.data.maxSize/1024/1024/1024).toFixed(0),t.currentMusicListInfo=e.data.data,t.currentMusicListInfo.forEach((function(t){var e=new Date(t.addTime),i=e.getFullYear(),n=(e.getMonth()+1+"").padStart(2,"0"),a=(e.getDay()+"").padStart(2,"0");t.addTime="".concat(i,"-").concat(n,"-").concat(a)})),t.setSongListInfo()}))},playMusicList:function(t){this.$emit("setSongListInfo",this.songListInfo,t.simpleSong.id)},setSongListInfo:function(){var t=this;this.currentMusicListInfo.forEach((function(e){t.songListInfo.push(e.simpleSong.id)}))},toSingerPage:function(t,e,i){"歌手"===e.label&&this.$router.push("/singer/"+t.simpleSong.ar[0].id)}}},Re=Te,Oe=Object(l["a"])(Re,qe,De,!1,null,"565985e3",null),Ve=Oe.exports,Ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-bottom":"75px"}},[i("el-table",{ref:"playTable",staticStyle:{cursor:"context-menu"},attrs:{data:t.songList,"highlight-current-row":"",border:"",stripe:""},on:{"row-dblclick":t.playMusic}},[i("el-table-column",{attrs:{label:"#",type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.curId===e.row.id?i("img",{attrs:{src:"imgs/isPlay.png",alt:""}}):i("p",[t._v(t._s(e.$index+1))])]}}])}),t._e(),i("el-table-column",{attrs:{label:"音乐标题",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"font-size":"15px","font-weight":"500",width:"200px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{title:0===e.row.alias.length?e.row.name:e.row.name+"("+e.row.alias[0]+")"}},[t._v(" "+t._s(e.row.name)+" ")]),e.row.alias.length?i("span",[t._v(t._s(0===e.row.alias.length?"":"("+e.row.alias[0]+")"))]):t._e(),1===e.row.fee?i("span",{staticStyle:{"box-shadow":"0px 0px 5px 2px rgba(255,103,0,0.1)",padding:"0 2px",border:"solid 1px #ff6700",color:"#ff6700","border-radius":"5px","margin-right":"10px","user-select":"none"}},[t._v(" "+t._s(1===e.row.fee?"VIP":""))]):t._e()]}}])}),i("el-table-column",{attrs:{label:"歌手",width:"80px;"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.artists,(function(n,a){return i("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toSingerPage(n.id)}}},[t._v(" "+t._s(0===a&&e.row.artists.length>1&&a!==e.row.artists.length-1?n.name+"/":n.name)+" ")])}))}}])}),i("el-table-column",{attrs:{label:"专辑名",prop:"album.name"}}),i("el-table-column",{attrs:{label:"时长",prop:"duration",width:"80px;"}})],1),i("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.queryInfo.limit,total:t.songTotal},on:{"current-change":t.handleCurrentChange}})],1)},je=[],Ae={data:function(){return{searchData:decodeURIComponent(this.$route.params.data),queryInfo:{keywords:this.$route.params.data,limit:30,offset:0,type:1},songTotal:0,songList:[],curId:parseInt(window.localStorage.getItem("curPlayMusicId"))}},created:function(){var t=this;this.getSearchResult(),window.addEventListener("setItem",(function(){t.curId=parseInt(localStorage.getItem("curPlayMusicId"))}))},methods:{getSearchResult:function(){var t=this;this.$http.get("/search",{params:this.queryInfo}).then((function(e){t.songList=e.data.result.songs,t.songTotal=e.data.result.songCount,t.songList.forEach((function(t){var e=t.duration/1e3,i=e/60,n=parseInt(i);n<10&&(n="0"+n);var a=e%60,s=Math.round(a);s<10&&(s="0"+s),t.duration="".concat(n,":").concat(s)}))}))},playMusic:function(t){var e=this;this.$http.get("song/url",{params:{id:t.id}}).then((function(i){""!==i.data.data[0].url&&e.$http.get("song/detail",{params:{ids:t.id}}).then((function(t){e.$emit("setMusicUrl",i.data.data[0].url,t.data.songs[0])}))}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.queryInfo.offset>=this.songTotal&&(this.queryInfo.offset=this.songTotal),this.getSearchResult()},toSingerPage:function(t){this.$router.push("/singer/"+t)}}},Fe=Ae,Ne=Object(l["a"])(Fe,Ee,je,!1,null,"a39a9f1a",null),He=Ne.exports,Be=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-bottom":"75px"}},[t._l(t.singerList,(function(e,n){return i("el-row",{staticStyle:{"margin-top":"25px"}},[i("el-col",{style:n%2===0?"background: rgb(245,245,247)":"",attrs:{span:12,offset:6},nativeOn:{click:function(i){return t.toSingerPage(e.id)}}},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.picUrl}}),i("span",{staticStyle:{position:"absolute",top:"40%"}},[t._v(t._s(e.name))])],1)],1)})),i("el-pagination",{staticStyle:{display:"block",width:"20%",margin:"15px auto"},attrs:{layout:"prev, pager, next","page-size":t.queryInfo.limit,total:t.singerTotal},on:{"current-change":t.handleCurrentChange}})],2)},Je=[],Qe={data:function(){return{searchData:decodeURIComponent(this.$route.params.data),queryInfo:{keywords:this.$route.params.data,limit:30,offset:0,type:100},singerTotal:0,singerList:[]}},created:function(){this.getSingerResult()},methods:{getSingerResult:function(){var t=this;this.$http.get("/search",{params:this.queryInfo}).then((function(e){t.singerList=e.data.result.artists,t.singerTotal=e.data.result.artistCount}))},toSingerPage:function(t){this.$router.push("/singer/"+t)},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.queryInfo.offset>=this.songTotal&&(this.queryInfo.offset=this.songTotal),this.getSingerResult()}}},Ye=Qe,Ge=(i("19d8"),Object(l["a"])(Ye,Be,Je,!1,null,"acb91f10",null)),We=Ge.exports,Ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-bottom":"75px"}},[i("el-row",{attrs:{gutter:10}},t._l(t.videoList,(function(e,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px",position:"relative"},attrs:{span:4}},[i("div",{staticStyle:{background:"rgba(128,128,128,0.2)",color:"white",width:"96%",position:"absolute","z-index":"10"}},[i("div",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-headset",staticStyle:{"margin-right":"5px"}}),t._v(" "+t._s(e.playTime>=1e4?(e.playTime/1e4).toFixed(0)+"万":e.playTime)+" ")])]),i("div",[i("el-image",{staticStyle:{"box-shadow":"0 0 2px 2px gray","border-radius":"10px",cursor:"pointer"},attrs:{src:e.coverUrl},on:{click:function(i){return t.toVideoPage(e.vid)}}})],1),i("h1",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.toVideoPage(e.vid)}}},[t._v(t._s(e.title))])])})),1),i("el-pagination",{staticStyle:{display:"block",width:"20%",margin:"15px auto"},attrs:{layout:"prev, pager, next","page-size":t.queryInfo.limit,total:t.videoTotal},on:{"current-change":t.handleCurrentChange}})],1)},Xe=[],Ze={data:function(){return{searchData:decodeURIComponent(this.$route.params.data),queryInfo:{keywords:this.$route.params.data,limit:30,offset:0,type:1014},videoTotal:0,videoList:[]}},created:function(){this.getVideoResult()},methods:{getVideoResult:function(){var t=this;this.$http.get("/search",{params:this.queryInfo}).then((function(e){t.videoList=e.data.result.videos,t.videoTotal=e.data.result.videoCount}))},toVideoPage:function(t){null!=t.match(/\D/)?this.$router.push("/videoPlay/"+t):this.$router.push("/toVideoPage/"+t)},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.queryInfo.offset>=this.songTotal&&(this.queryInfo.offset=this.songTotal),this.getVideoResult()}}},ti=Ze,ei=(i("745f"),Object(l["a"])(ti,Ke,Xe,!1,null,"6fc66b28",null)),ii=ei.exports,ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-bottom":"75px"}},[t._l(t.playList,(function(e,n){return i("el-row",{staticStyle:{"margin-top":"25px"}},[i("el-col",{style:n%2===0?"background: rgb(245,245,247)":"",attrs:{span:18,offset:4},nativeOn:{click:function(i){return t.toPlayListPage(e.id)}}},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.coverImgUrl}}),i("span",{staticStyle:{position:"absolute",top:"40%"}},[t._v(t._s(e.name))]),i("span",{staticStyle:{position:"absolute",top:"40%",left:"50%"}},[t._v(t._s(e.trackCount)+"首")]),i("span",{staticStyle:{position:"absolute",top:"40%",left:"70%"}},[t._v("by "+t._s(e.creator.nickname))])],1),i("el-col")],1)})),i("el-pagination",{staticStyle:{display:"block",width:"20%",margin:"15px auto"},attrs:{layout:"prev, pager, next","page-size":t.queryInfo.limit,total:t.playListTotal},on:{"current-change":t.handleCurrentChange}})],2)},ai=[],si={data:function(){return{searchData:decodeURIComponent(this.$route.params.data),queryInfo:{keywords:this.$route.params.data,limit:12,offset:0,type:1e3},playListTotal:0,playList:[]}},created:function(){this.getPlayListResult()},methods:{getPlayListResult:function(){var t=this;this.$http.get("/search",{params:this.queryInfo}).then((function(e){t.playList=e.data.result.playlists,t.playListTotal=e.data.result.playlistCount}))},handleCurrentChange:function(t){this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.queryInfo.offset>=this.songTotal&&(this.queryInfo.offset=this.songTotal),this.getPlayListResult()},toPlayListPage:function(t){this.$router.push("/songlist/"+t)}}},oi=si,ri=(i("b6a2"),Object(l["a"])(oi,ni,ai,!1,null,"0ded5db1",null)),li=ri.exports;n["default"].use(p["a"]);var ci=[{path:"/",component:k,redirect:"/findMusic",children:[{path:"/findMusic",component:U,redirect:"/diyRecommend",children:[{path:"/diyRecommend",component:V},{path:"/musicListPage",component:ht},{path:"/musicRank",component:bt},{path:"/singerList",component:kt},{path:"/newMusicList",component:ie}]},{path:"/songlist/:id",component:H,children:[{name:"musicPage",path:"/musicPage",component:W},{path:"/comment/:id",component:it}]},{path:"/toVideoPage/:id",component:lt},{path:"/singer/:id",component:Ut,redirect:"/album/:id",children:[{path:"/album/:id",component:Vt},{path:"/singerMv/:id",component:Ht},{path:"/singerDesc/:id",component:Wt}]},{path:"musicDetail/:id",component:le},{path:"/video",component:he,redirect:"/videoPage",children:[{path:"/videoPage",component:be},{path:"/mvPage",component:Ue}]},{path:"videoPlay/:id",component:ke},{path:"/cloudMusic",component:Ve},{path:"/search/:data",component:b,children:[{path:"/searchBySong/:data",component:He},{path:"/searchBySinger/:data",component:We},{path:"/searchByVideo/:data",component:ii},{path:"/searchByPlayList/:data",component:li}]}]}],ui=new p["a"]({routes:ci}),pi=ui,di=(i("9e1f"),i("450d"),i("6ed5")),gi=i.n(di),hi=(i("0fb7"),i("f529")),fi=i.n(hi),mi=(i("6b30"),i("c284")),yi=i.n(mi),vi=(i("06f1"),i("6ac9")),xi=i.n(vi),bi=(i("eca7"),i("3787")),Si=i.n(bi),_i=(i("425f"),i("4105")),wi=i.n(_i),Ii=(i("a7cc"),i("df33")),Li=i.n(Ii),ki=(i("672e"),i("101e")),Ci=i.n(ki),$i=(i("38a0"),i("ad41")),Mi=i.n($i),Pi=(i("5466"),i("ecdf")),zi=i.n(Pi),Ui=(i("b0ee"),i("d180")),qi=i.n(Ui),Di=(i("a335"),i("c0bb")),Ti=i.n(Di),Ri=(i("b5c2"),i("20cf")),Oi=i.n(Ri),Vi=(i("cbb5"),i("8bbc")),Ei=i.n(Vi),ji=(i("186a"),i("301f")),Ai=i.n(ji),Fi=(i("f4f9"),i("c2cc")),Ni=i.n(Fi),Hi=(i("7a0f"),i("0f6c")),Bi=i.n(Hi),Ji=(i("b8e0"),i("a4c4")),Qi=i.n(Ji),Yi=(i("acb6"),i("c673")),Gi=i.n(Yi),Wi=(i("96dc"),i("9cea")),Ki=i.n(Wi),Xi=(i("8bd8"),i("4cb2")),Zi=i.n(Xi),tn=(i("4ca3"),i("443e")),en=i.n(tn),nn=(i("34db"),i("3803")),an=i.n(nn),sn=(i("10cb"),i("f3ad")),on=i.n(sn),rn=(i("1951"),i("eedf")),ln=i.n(rn),cn=(i("bdc7"),i("aa2f")),un=i.n(cn),pn=(i("de31"),i("c69e")),dn=i.n(pn),gn=(i("a769"),i("5cc3")),hn=i.n(gn),fn=(i("a673"),i("7b31")),mn=i.n(fn),yn=(i("adec"),i("3d2d")),vn=i.n(yn);n["default"].use(vn.a),n["default"].use(mn.a),n["default"].use(hn.a),n["default"].use(dn.a),n["default"].use(un.a),n["default"].use(ln.a),n["default"].use(on.a),n["default"].use(an.a),n["default"].use(en.a),n["default"].use(Zi.a),n["default"].use(Ki.a),n["default"].use(Gi.a),n["default"].use(Qi.a),n["default"].use(Bi.a),n["default"].use(Ni.a),n["default"].use(Ai.a),n["default"].use(Ei.a),n["default"].use(Oi.a),n["default"].use(Ti.a),n["default"].use(qi.a),n["default"].use(zi.a),n["default"].use(Mi.a),n["default"].use(Ci.a),n["default"].use(Li.a),n["default"].use(wi.a),n["default"].use(Si.a),n["default"].use(xi.a),n["default"].use(yi.a),n["default"].prototype.$message=fi.a,n["default"].prototype.$confirm=gi.a.confirm;i("aede");var xn=i("1157"),bn=i.n(xn),Sn=i("bc3a"),_n=i.n(Sn);n["default"].config.ignoredElements=[/^ion-/],_n.a.defaults.baseURL="/api",n["default"].config.productionTip=!1,n["default"].prototype.$http=_n.a,n["default"].prototype.$=bn.a,n["default"].filter("dateFormat",(function(t){var e=new Date(t),i=e.getFullYear(),n=(e.getMonth()+1+"").padStart(2,"0"),a=(e.getDay()+"").padStart(2,"0"),s=(e.getHours()+"").padStart(2,"0"),o=(e.getMinutes()+"").padStart(2,"0"),r=(e.getSeconds()+"").padStart(2,"0");return"".concat(i,"-").concat(n,"-").concat(a," ").concat(s,":").concat(o,":").concat(r)})),n["default"].filter("dateFormatToYMD",(function(t){var e=new Date(t),i=e.getFullYear(),n=(e.getMonth()+1+"").padStart(2,"0"),a=(e.getDay()+"").padStart(2,"0");return"".concat(i,"-").concat(n,"-").concat(a)})),n["default"].filter("timeFormat",(function(t){var e=t/60,i=parseInt(e);i<10&&(i="0"+i);var n=t%60,a=Math.round(n);return a<10&&(a="0"+a),"".concat(i,":").concat(a)})),n["default"].prototype.resetSetItem=function(t,e){var i=document.createEvent("StorageEvent"),n={setItem:function(t,e){localStorage.setItem(t,e),i.initStorageEvent("setItem",!1,!1,t,null,e,null,null),window.dispatchEvent(i)}};return n.setItem(t,e)},new n["default"]({router:pi,render:function(t){return t(u)}}).$mount("#app")},"5a5b":function(t,e,i){},"5ff4":function(t,e,i){"use strict";var n=i("d51f"),a=i.n(n);a.a},"6e96":function(t,e,i){},"6f4d":function(t,e,i){},7234:function(t,e,i){"use strict";var n=i("6f4d"),a=i.n(n);a.a},"745f":function(t,e,i){"use strict";var n=i("54e6"),a=i.n(n);a.a},a484:function(t,e,i){},a53d:function(t,e,i){},aede:function(t,e,i){},b346:function(t,e,i){},b6a2:function(t,e,i){"use strict";var n=i("f27e"),a=i.n(n);a.a},b784:function(t,e,i){"use strict";var n=i("5a5b"),a=i.n(n);a.a},b7c3:function(t,e,i){"use strict";var n=i("ca30"),a=i.n(n);a.a},bfd2:function(t,e,i){},ca30:function(t,e,i){},d1bc:function(t,e,i){"use strict";var n=i("b346"),a=i.n(n);a.a},d24b:function(t,e,i){},d51f:function(t,e,i){},f223:function(t,e,i){"use strict";var n=i("6e96"),a=i.n(n);a.a},f27e:function(t,e,i){}});
//# sourceMappingURL=app.6be0805e.js.map